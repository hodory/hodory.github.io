<!doctype html><html lang=ko-kr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>［Hexo］블로그 주소를 바꾸었어요! - Web Developer Hodory</title><meta name=Description content="Web Developer Hodory's Dev Blog"><meta property="og:title" content="［Hexo］블로그 주소를 바꾸었어요!"><meta property="og:description" content="이번에도 Gracefullight님의 제안으로, dev 도메인을 구매하기로 하였습니다.
기존의 아이디를 사용하여 khzero.dev를 쓸까 하다가,
이왕 구매하는거 깃허브 아이디도 바꾸고, 도메인도 맞춰서 사자!
라고 생각을 했었습니다&mldr;그때 멈췄어야 했는데요&mldr;
해당 포스팅을 참조하여 작업을 진행하기 시작했습니다.
1. 도메인 구매 및 연결 닉네임을 찾다가 Hodory로 변경하고, hodory.dev 도메인을 구매했습니다.
Github Pages로 관리되던 khzero.github.io Repository 이름을 hodory.github.io로 변경하였죠
지난번 TravisCI로 블로그 자동 배포시 겪은 문제에서 TravisCI로 배포 환경을 구축 했기 때문에,
위의 이미지와 같이 깃허브에서 TravisCI 서비스연결도 다시하고, Hexo config."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-06-09T17:55:48+00:00"><meta property="article:modified_time" content="2019-06-09T17:55:48+00:00"><meta property="og:site_name" content="Web Developer Hodory"><meta name=twitter:card content="summary"><meta name=twitter:title content="［Hexo］블로그 주소를 바꾸었어요!"><meta name=twitter:description content="이번에도 Gracefullight님의 제안으로, dev 도메인을 구매하기로 하였습니다.
기존의 아이디를 사용하여 khzero.dev를 쓸까 하다가,
이왕 구매하는거 깃허브 아이디도 바꾸고, 도메인도 맞춰서 사자!
라고 생각을 했었습니다&mldr;그때 멈췄어야 했는데요&mldr;
해당 포스팅을 참조하여 작업을 진행하기 시작했습니다.
1. 도메인 구매 및 연결 닉네임을 찾다가 Hodory로 변경하고, hodory.dev 도메인을 구매했습니다.
Github Pages로 관리되던 khzero.github.io Repository 이름을 hodory.github.io로 변경하였죠
지난번 TravisCI로 블로그 자동 배포시 겪은 문제에서 TravisCI로 배포 환경을 구축 했기 때문에,
위의 이미지와 같이 깃허브에서 TravisCI 서비스연결도 다시하고, Hexo config."><meta name=application-name content="Web Developer Hodory"><meta name=apple-mobile-web-app-title content="Web Developer Hodory"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/images/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/><link rel=prev href=http://blog.hodory.dev/2019/06/06/hexo-travis-ci-with-no-contents/><link rel=next href=http://blog.hodory.dev/2019/06/19/%EC%8B%9C%EB%8B%88%EC%96%B4-%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98-%EC%A1%B0%EA%B1%B4%EC%9D%84-%EB%8B%A4%EC%8B%9C-%EC%9D%BD%EA%B3%A0/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"［Hexo］블로그 주소를 바꾸었어요!","inLanguage":"ko-KR","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/blog.hodory.dev\/2019\/06\/09\/github-pages-blog-migration\/"},"genre":"posts","keywords":"Hexo","wordcount":381,"url":"http:\/\/blog.hodory.dev\/2019\/06\/09\/github-pages-blog-migration\/","datePublished":"2019-06-09T17:55:48+00:00","dateModified":"2019-06-09T17:55:48+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Author"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">［Hexo］블로그 주소를 바꾸었어요!</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-category>included in <a href=/categories/hexo/><i class="far fa-folder fa-fw" aria-hidden=true></i>Hexo</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2019-06-09>2019-06-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;381 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;2 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#1-도메인-구매-및-연결>1. 도메인 구매 및 연결</a></li><li><a href=#2-기존-블로그는-어떻게-해요>2. 기존 블로그는 어떻게 해요???</a></li><li><a href=#3-서브도메인으로-바꿀래요>3. 서브도메인으로 바꿀래요!</a></li><li><a href=#4-기존-블로그를-연결하자>4. 기존 블로그를 연결하자!</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>이번에도 <a href=https://gracefullight.dev target=_blank rel="noopener noreffer">Gracefullight</a>님의 제안으로, dev 도메인을 구매하기로 하였습니다.</p><p>기존의 아이디를 사용하여 <code>khzero.dev</code>를 쓸까 하다가,</p><blockquote><p>이왕 구매하는거 깃허브 아이디도 바꾸고, 도메인도 맞춰서 사자!</p></blockquote><p>라고 생각을 했었습니다&mldr;그때 멈췄어야 했는데요&mldr;</p><p><a href=https://gracefullight.dev/2019/05/06/connecting-a-DEV-domain-to-github-pages/ target=_blank rel="noopener noreffer">해당 포스팅</a>을 참조하여 작업을 진행하기 시작했습니다.</p><h3 id=1-도메인-구매-및-연결>1. 도메인 구매 및 연결</h3><p>닉네임을 찾다가 <code>Hodory</code>로 변경하고, <code>hodory.dev</code> 도메인을 구매했습니다.</p><p>Github Pages로 관리되던 <code>khzero.github.io</code> Repository 이름을 <code>hodory.github.io</code>로 변경하였죠</p><p>지난번 <a href=https://blog.hodory.dev/ target=_blank rel="noopener noreffer">TravisCI로 블로그 자동 배포시 겪은 문제</a>에서 TravisCI로 배포 환경을 구축 했기 때문에,</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/5.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/5.jpg, https://blog.hodory.dev/images/blog-migration/5.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/5.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/5.jpg title="Github Travis CI Configuration"></p><p>위의 이미지와 같이 깃허브에서 TravisCI 서비스연결도 다시하고, Hexo config.yml도 모두 수정하였습니다.</p><p>기존의 도메인 URL도 모두 변경하여 블로그를 배포했습니다.</p><h3 id=2-기존-블로그는-어떻게-해요>2. 기존 블로그는 어떻게 해요???</h3><p>생각하여보니 현재 <a href=https://awesome-devblog.netlify.com target=_blank rel="noopener noreffer">어썸데브블로그</a>에 <code>khzero.github.io</code> 주소의 포스팅들이 공개 되어 있는데,</p><p>깃허브 아이디를 변경하면서 도메인 연결이 끊겨, 404 페이지를 노출하고 있었습니다.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/6.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/6.jpg, https://blog.hodory.dev/images/blog-migration/6.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/6.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/6.jpg title="Github Pages Not Found"></p><p>급하게 khzero로 계정을 새로 만든 후, <code>khzero.github.io</code> Repository를 생성하고 기존 포스트를 배포하여 404로 노출되는것은 막았습니다.</p><h3 id=3-서브도메인으로-바꿀래요>3. 서브도메인으로 바꿀래요!</h3><p>원래는 도메인을 <code>hodory.dev</code>로 쓰려 했지만, 서브 도메인으로 블로그임을 명시하고 싶어,
다시 hodory 계정의 hodory.github.io Rpository를 <code>blog.hodory.dev</code>로 CNAME을 설정하고</p><p>아래와 같이 설정하였습니다.
(<strong>※주의 : CNAME을 배포하면 아래의 설정이 초기화 되니 주의하시기 바랍니다.※</strong>)</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/7.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/7.jpg, https://blog.hodory.dev/images/blog-migration/7.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/7.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/7.jpg title="Github Pages Custom Domain Setting"></p><p>배포를 하였더니 깃허브로부터 아래와 같은 메일이 왔었습니다.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/1.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/1.jpg, https://blog.hodory.dev/images/blog-migration/1.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/1.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/1.jpg title="Github Pages Custom Domain Setting"></p><p>A 레코드에 <code>blog.hodory.dev</code>가 설정되어 있어서인데,
CNAME으로 변경하기위해 구글 도메인 DNS 설정에서 아래와 같이 변경했습니다.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/9.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/9.jpg, https://blog.hodory.dev/images/blog-migration/9.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/9.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/9.jpg title="Google Domains - DNS Setting"></p><p>설정을 모두 마친 뒤, 지인들에게 자랑을 했는데 블로그가 아래와 같은 오류로 나오지 않는다했습니다.</p><blockquote><p>웹사이트에서 HSTS를 사용하므로 지금은 blog.hodory.dev에 방문할 수 없습니다.
네트워크 오류와 공격은 대체로 일시적인 문제이기 때문에 나중에 이 페이지가 정상적으로 작동할 수 있습니다.</p></blockquote><blockquote><p>TTL 문제일 수 있어 최대 1H까지 리졸브가 안될 수 있어요</p></blockquote><p>라는 설명을 듣고 TTL을 <code>1m</code> 으로변경하였습니다</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/8.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/8.jpg, https://blog.hodory.dev/images/blog-migration/8.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/8.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/8.jpg title="Google Domains - DNS Setting"></p><p>1분정도 지난 후 확인해보니 정상적으로 동작했습니다!</p><p>또 중간에 배포를 하다가 이와 같이 되는 노출되는 경우가 있었는데
<img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/4.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/4.jpg, https://blog.hodory.dev/images/blog-migration/4.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/4.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/4.jpg title="크롬 - 연결이 비공개로 설정되어 있지 않습니다."></p><p>위에 기재하였던 CNAME이 수정되면서, <code>Enforce HTTPS</code> 가 체크 해제되어 있었습니다.
이 부분을 수정하니 정상적으로 노출이 되었습니다.</p><h3 id=4-기존-블로그를-연결하자>4. 기존 블로그를 연결하자!</h3><p>블로그 주소가 변경되면서 해야할 것은</p><ol><li>oneSignal의 URL 변경</li><li>Analytics 수정</li><li>구글 애드센스 확인</li><li>Search Console 연결</li><li>페이스북 픽셀 주소변경</li><li>네이버 웹마스터도구 사이트 추가</li></ol><p>6가지였습니다.</p><p>대부분 URL 변경만 한다거나, 추가하는 방식으로 간단하게 수정 되었으나, 4번에서 문제가 생겼습니다.</p><p>현재 Search Console의 구버전에서만 가능한 주소 변경 툴인데,</p><p>아래 이미지에 표시된 2번의 301 리디렉션 정상동작 여부에서 막혔습니ㅏㄷ.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://blog.hodory.dev/images/blog-migration/3.jpg data-srcset="https://blog.hodory.dev/images/blog-migration/3.jpg, https://blog.hodory.dev/images/blog-migration/3.jpg 1.5x, https://blog.hodory.dev/images/blog-migration/3.jpg 2x" data-sizes=auto alt=https://blog.hodory.dev/images/blog-migration/3.jpg title="Github Page - 301 리디렉션"></p><p>Github Pages 는 정적페이지이다보니 301로 리디렉션이 불가능합니다.</p><p>혹시나 하는 마음에 <a href=https://github.com/jekyll/jekyll-redirect-from target=_blank rel="noopener noreffer">jekyll-redirect-from</a> 패키지도 확인 해보았으나,</p><p>meta 태그와 script를 이용해 페이지를 이동시키는데,</p><p>구글봇이 해당 페이지를 읽을때 HTTP 코드가 200으로 나와서 301 리디렉션이 되지 않았습니다.</p><p>어쩔 수 없이 <a href=https://github.com/akfish/hexo-theme-redirect target=_blank rel="noopener noreffer">hexo-theme-redirect</a> 테마를 이용하여, meta 리디렉션만 설정하고</p><p>Search Console은 커뮤니티에 문의를 남기고 우선 재생성하기로 하여 모든 마이그레이션을 마무리지었습니다.</p><p>혹시나 Search Console 주소변경에 대한 다른 방법을 알고 계시다면 공유 부탁 드리겠습니다.</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2019-06-09</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/ data-title="［Hexo］블로그 주소를 바꾸었어요!" data-hashtags=Hexo><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/ data-hashtag=Hexo><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/ data-title="［Hexo］블로그 주소를 바꾸었어요!"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/ data-title="［Hexo］블로그 주소를 바꾸었어요!"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=http://blog.hodory.dev/2019/06/09/github-pages-blog-migration/ data-title="［Hexo］블로그 주소를 바꾸었어요!"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/hexo/>Hexo</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2019/06/06/hexo-travis-ci-with-no-contents/ class=prev rel=prev title="［Hexo］TravisCI로 블로그 자동 배포시 겪은 문제"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>［Hexo］TravisCI로 블로그 자동 배포시 겪은 문제</a>
<a href=/2019/06/19/%EC%8B%9C%EB%8B%88%EC%96%B4-%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98-%EC%A1%B0%EA%B1%B4%EC%9D%84-%EB%8B%A4%EC%8B%9C-%EC%9D%BD%EA%B3%A0/ class=next rel=next title="［ETC］시니어 개발자의 조건을 다시 읽고">［ETC］시니어 개발자의 조건을 다시 읽고<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.110.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},data:{"id-1":"Web Developer Hodory","id-2":"Web Developer Hodory"},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","360040228",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=360040228" async></script></body></html>