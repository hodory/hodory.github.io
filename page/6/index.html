<!doctype html><html lang=ko-kr><head><meta name=generator content="Hugo 0.110.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Web Developer Hodory</title><meta name=Description content="This is my cool site"><meta property="og:title" content="Web Developer Hodory"><meta property="og:description" content="This is my cool site"><meta property="og:type" content="website"><meta property="og:url" content="http://blog.hodory.dev/"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Web Developer Hodory"><meta name=twitter:description content="This is my cool site"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://blog.hodory.dev/><link rel=alternate href=/index.xml type=application/rss+xml title="Web Developer Hodory"><link rel=feed href=/index.xml type=application/rss+xml title="Web Developer Hodory"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"http:\/\/blog.hodory.dev\/","inLanguage":"ko-KR","description":"This is my cool site","name":"Web Developer Hodory"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="lazyload logo" src=/svg/loading.min.svg data-src=/images/logo.png data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x" data-sizes=auto alt=/images/logo.png title=/images/logo.png><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=home-subtitle><div id=id-3 class=typeit></div></div><div class=links><a href=https://github.com/hodory title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github fa-fw" aria-hidden=true></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw" aria-hidden=true></i></a></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2019/04/27/laravelwith-has-wherehas-%EB%AD%90%EA%B0%80-%EB%8B%A4%EB%A5%BC%EA%B9%8C/>［Laravel］with() | has() | whereHas() 뭐가 다를까</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2019-04-27>2019-04-27</time></span>&nbsp;<span class=post-category>included in <a href=/categories/php/><i class="far fa-folder fa-fw" aria-hidden=true></i>PHP</a></span></div><div class=content>ORM도 익숙하지 않지만, Eloquent ORM은 처음 접해보면서,
쿼리빌더를 사용하는것은 ORM스럽지 못하다 느껴 최대한 ORM으로 풀고 싶었습니다
검색으로 알아보던중 Eloquent:Relations에 대해 알게되었습니다.
라라벨 공식 문서 : 관계의 존재 여부 쿼리 질의하기
예를들어 User가 여러개의 Post 를 가지고 있다면, User 클래스에 $this->hasMany('App\Post');를 설정해 두었을 것이라는 가정하에 설명을 진행하도록 하겠습니다.
with() user id name post id user_id title 이와 같은 테이블 구조에서 유저가 작성한 글의 제목을 조회하려면 $users = selectAll("select * from `user`); foreach ($users as $user) { $user['post_title'] = selectOne("select `title` from `post` where `post`.</div><div class=post-footer><a href=/2019/04/27/laravelwith-has-wherehas-%EB%AD%90%EA%B0%80-%EB%8B%A4%EB%A5%BC%EA%B9%8C/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/php/>PHP</a>,&nbsp;<a href=/tags/laravel/>Laravel</a>,&nbsp;<a href=/tags/eloquent/>Eloquent</a>,&nbsp;<a href=/tags/orm/>ORM</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2019/04/18/jsknex%EC%99%80-webpack%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%93%B0%EB%A9%B4%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%9C-%EC%98%A4%EB%A5%98-%EC%B2%98%EB%A6%AC/>［JS］Knex와 Webpack을 같이 쓰면서 발생한 오류 처리</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2019-04-18>2019-04-18</time></span>&nbsp;<span class=post-category>included in <a href=/categories/javascript/><i class="far fa-folder fa-fw" aria-hidden=true></i>Javascript</a></span></div><div class=content>ERROR in './node_modules/knex/lib/dialects/mssql/index.js' Module not found: Error : Can't resolve 'mssql/lib/base' 프로젝트에 웹팩을 도입하여 사용중, knex 라이브러리를 넣고 나서 웹팩으로 빌드시 해당 에러가 나와서 빌드에 실패 했습니다.
해당 오류를 검색 하였는데, 역시나 깃허브 이슈가 있었고(감사합니다), webpack의 config에 아래의 내용을 추가 하였습니다.
externals: { knex: 'commonjs knex' } 해당 작업 후 빌드는 성공했지만, 노드 서버에서 실행시 knex 모듈을 찾을 수 없다는 오류가 나왔습니다.
{ "errorMessage": "Cannot find module 'knex'", "errorType": "Error", "stackTrace": [ "Function.</div><div class=post-footer><a href=/2019/04/18/jsknex%EC%99%80-webpack%EC%9D%84-%EA%B0%99%EC%9D%B4-%EC%93%B0%EB%A9%B4%EC%84%9C-%EB%B0%9C%EC%83%9D%ED%95%9C-%EC%98%A4%EB%A5%98-%EC%B2%98%EB%A6%AC/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/javascript/>Javascript</a>,&nbsp;<a href=/tags/js/>JS</a>,&nbsp;<a href=/tags/webpack/>Webpack</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2018/10/27/php%EB%B0%B0%EC%97%B4-key%EC%9D%98-min-%EB%98%90%EB%8A%94-max-%EA%B5%AC%ED%95%98%EA%B8%B0/>［PHP］배열 key의 min 또는 max 구하기</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2018-10-27>2018-10-27</time></span>&nbsp;<span class=post-category>included in <a href=/categories/php/><i class="far fa-folder fa-fw" aria-hidden=true></i>PHP</a></span></div><div class=content>PHP로 개발을 하다보면, 연관 배열을 많이 쓰게되는데요
아래와 같은 배열에서 cnt의 max값과 min값을 구하려면 어떻게 해야할까요?
또는 이러한 배열에서 특정 키값의 값만 뽑아 배열로 만들고싶다면 어떻게 해야할까요?
array(3) { [0]=> array(3) { ["title"]=> string(5) "apple" ["cnt"]=> int(1) "5" ["color"]=> string(5) "green" } [1]=> array(3) { ["name"]=> string(4) "pear" ["cnt"]=> int(1) "8" ["color"]=> string(6) "yellow" } 배열을 순회하여 해당 키의 값을 뽑아 배열을 만들고,
최소 또는 최대값이 필요하면 min 또는 max 함수를 적용해야 한다 생각했습니다.</div><div class=post-footer><a href=/2018/10/27/php%EB%B0%B0%EC%97%B4-key%EC%9D%98-min-%EB%98%90%EB%8A%94-max-%EA%B5%AC%ED%95%98%EA%B8%B0/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/php/>PHP</a>,&nbsp;<a href=/tags/str_pad/>str_pad</a>,&nbsp;<a href=/tags/function/>function</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2018/08/27/vuejsvue.js%EC%97%90%EC%84%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B2%84%EC%8A%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/>［VueJS］vue.js에서 이벤트 버스 사용하기</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2018-08-27>2018-08-27</time></span>&nbsp;<span class=post-category>included in <a href=/categories/javascript/><i class="far fa-folder fa-fw" aria-hidden=true></i>Javascript</a>&nbsp;<a href=/categories/vue.js/><i class="far fa-folder fa-fw" aria-hidden=true></i>Vue.js</a></span></div><div class=content>MPA(Multi Page Application)에서 Vue를 적용 시키던중
부모-자식간의 관계가 아닌 컴포넌트 간의 동작에 따른 데이터 변화와 이벤트 처리가 필요해졌습니다.
주로 공통 데이터를 다루기 위해 사용하는 부분이라 Vuex를 써볼까도 했지만,
Vuex 튜토리얼에서 앱이 단순하다면 Vuex없이는 괜찮을 것입니다. 간단한 글로벌 이벤트 버스만 있으면됩니다 라는 글귀를 읽고, 글로벌 이벤트 버스를 사용하자로 마음을 굳혔습니다.
아래와 같이 공통으로 사용할 이벤트버스 js 파일을 생성합니다. Vue EventBus 객체를 생성하여 export 하여 다른 파일에서도 로드하여 사용 할 수 있도록 합니다.</div><div class=post-footer><a href=/2018/08/27/vuejsvue.js%EC%97%90%EC%84%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%B2%84%EC%8A%A4-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/vuejs/>VueJS</a>,&nbsp;<a href=/tags/js/>JS</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2018/07/20/gcp-nuxt.js-gae%EC%97%90-%EB%B0%B0%ED%8F%AC-%EC%9D%B4%EC%8A%88%EC%82%AC%ED%95%AD/>［GCP］ Nuxt.js GAE에 배포 이슈사항</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2018-07-20>2018-07-20</time></span>&nbsp;<span class=post-category>included in <a href=/categories/etc/><i class="far fa-folder fa-fw" aria-hidden=true></i>ETC</a>&nbsp;<a href=/categories/gcp/><i class="far fa-folder fa-fw" aria-hidden=true></i>GCP</a></span></div><div class=content>502 Bad Gateway 배포 후 링크 접속시 502 Bad Gateway 에러가 발생하였는데
에러 로그를 보니 localhost:8080로 접근하고 있었다
검색 결과 NuxtJS의 실행 포트를 변경할 수 있는 방법이 소개 되어있었다.
package.json에 다음과 같이 작성하면 된다.
{ ... "config": { "nuxt": { "host": "0.0.0.0", "port": "8080" } } } 또는
{ "scripts": { ... "start": "HOST=0.0.0.0 PORT=8080 nuxt build && nuxt start" } } 으로 작성하여 다시 deploy 하면 정상적으로 동작한다.
참고자료</div><div class=post-footer><a href=/2018/07/20/gcp-nuxt.js-gae%EC%97%90-%EB%B0%B0%ED%8F%AC-%EC%9D%B4%EC%8A%88%EC%82%AC%ED%95%AD/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/gcp/>GCP</a>,&nbsp;<a href=/tags/gae/>GAE</a>,&nbsp;<a href=/tags/nuxtjs/>NuxtJS</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/2018/04/23/database-postgresql%EC%99%80-mysql-%EB%AD%90%EA%B0%80-%EB%8B%A4%EB%A5%BC%EA%B9%8C/>［Database］ postgresql와 mysql 뭐가 다를까?</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>hodory</a></span>&nbsp;<span class=post-publish>published on <time datetime=2018-04-23>2018-04-23</time></span>&nbsp;<span class=post-category>included in <a href=/categories/etc/><i class="far fa-folder fa-fw" aria-hidden=true></i>ETC</a>&nbsp;<a href=/categories/database/><i class="far fa-folder fa-fw" aria-hidden=true></i>Database</a></span></div><div class=content>PostgreSQL 과 MySQL의 차이점 PostgreSQL은 기본적으로 트랜잭션을 지원합니다(MySQL의 경우 테이블이 InnoDB 타입일 경우에만 지원합니다.) Databse의 하위개념으로 Schema가 있습니다.(MySQL의 Database의 개념은 PostgreSQL의 스키마와 개념이 비슷합니다.) 스키마를 별도로 지정하지 않을 경우, public이라는 스키마를 기본적으로 사용합니다. 데이터베이스가 다르면 물리적으로 분리되어있다는것을 의미합니다. 서로 다른 Schema간에는 JOIN이 가능합니다. 구조 참고자료
postgreSQL 구조 이미지 - 구루비 postgreSQL 소개</div><div class=post-footer><a href=/2018/04/23/database-postgresql%EC%99%80-mysql-%EB%AD%90%EA%B0%80-%EB%8B%A4%EB%A5%BC%EA%B9%8C/>Read More</a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/database/>DataBase</a>,&nbsp;<a href=/tags/postgresql/>postgresql</a>,&nbsp;<a href=/tags/pgsql/>pgsql</a>,&nbsp;<a href=/tags/mysql/>mysql</a>,&nbsp;<a href=/tags/pgsql-vs-mysql/>pgSQL vs MySQL</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link aria-hidden=true>&mldr;</span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link><a href=/page/5/>5</a></span></li><li class="page-item active"><span class=page-link><a href=/page/6/>6</a></span></li><li class=page-item><span class=page-link><a href=/page/7/>7</a></span></li><li class=page-item><span class=page-link><a href=/page/8/>8</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.110.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022 - 2023</span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},data:{"id-1":"Web Developer Hodory","id-2":"Web Developer Hodory","id-3":"Web Developer Hodory's Dev Blog"},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"],"id-3":["id-3"]},duration:-1,speed:100}}</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","360040228",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=360040228" async></script></body></html>