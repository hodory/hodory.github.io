<!doctype html><html lang=ko><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>[PHP] Array And Class Object Performance Test - Web Developer Hodory</title><meta name=Description content><meta property="og:url" content="http://blog.hodory.dev/2024/12/15/php-array-and-class-object-performance-test/">
<meta property="og:site_name" content="Web Developer Hodory"><meta property="og:title" content="[PHP] Array And Class Object Performance Test"><meta property="og:description" content="Comparison PHP Dynamic Array Class With Constructor Class With Setter Illuminate\Support\Collection Collection + Class Based Collection Test Link https://3v4l.org/h08dj/perf https://3v4l.org/CU0MC/perf https://3v4l.org/IqmsA/perf 코드가 너무 길어서 테스트 불가 코드가 너무 길어서 테스트 불가 Memory Peak 536 MB 254 MB 254 MB 658 MB 660 MB Execution Time Execution Time: 2.32 seconds Execution Time: 3.38 seconds Execution Time: 4.25 seconds Execution Time: 3.55 seconds Execution Time: 5.96 seconds"><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-15T15:00:00+00:00"><meta property="article:modified_time" content="2024-12-15T15:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[PHP] Array And Class Object Performance Test"><meta name=twitter:description content="Comparison PHP Dynamic Array Class With Constructor Class With Setter Illuminate\Support\Collection Collection + Class Based Collection Test Link https://3v4l.org/h08dj/perf https://3v4l.org/CU0MC/perf https://3v4l.org/IqmsA/perf 코드가 너무 길어서 테스트 불가 코드가 너무 길어서 테스트 불가 Memory Peak 536 MB 254 MB 254 MB 658 MB 660 MB Execution Time Execution Time: 2.32 seconds Execution Time: 3.38 seconds Execution Time: 4.25 seconds Execution Time: 3.55 seconds Execution Time: 5.96 seconds"><meta name=application-name content="Web Developer Hodory"><meta name=apple-mobile-web-app-title content="Web Developer Hodory"><meta name=theme-color content="#f8f8f8"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2860780921894189" crossorigin=anonymous></script><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=canonical href=http://blog.hodory.dev/2024/12/15/php-array-and-class-object-performance-test/><link rel=prev href=http://blog.hodory.dev/2022/08/11/vscode-git-private-key-%EC%98%A4%EB%A5%98/><link rel=stylesheet href=/css/main.min.css><link rel=stylesheet href=/css/style.min.css><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[PHP] Array And Class Object Performance Test","inLanguage":"ko","mainEntityOfPage":{"@type":"WebPage","@id":"http://blog.hodory.dev/2024/12/15/php-array-and-class-object-performance-test/"},"genre":"posts","wordcount":35030,"url":"http://blog.hodory.dev/2024/12/15/php-array-and-class-object-performance-test/","datePublished":"2024-12-15T15:00:00+00:00","dateModified":"2024-12-15T15:00:00+00:00","publisher":{"@type":"Organization","name":"hodory"},"author":{"@type":"Person","name":"hodory","url":"/"},"description":""}</script></head><body data-instant-intensity=viewport><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.className=e,document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark"),e==="light"?document.documentElement.classList.remove("tw-dark"):document.documentElement.classList.add("tw-dark"),window.theme=e,window.isDark=window.theme!=="light"}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"auto"==="light"||"auto"==="dark"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#161b22"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")],window.switchThemeEventSet=new Set</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class="desktop print:!tw-hidden" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="tw-inline tw-align-text-bottom tw-mr-1" src=/images/logo.png alt="Web Developer Hodory" height=32 width=32>Web Developer Hodory</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><button class="menu-item theme-select" aria-label="Switch Theme">
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
<select class=color-theme-select id=theme-select-desktop aria-label="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=auto>Auto</option></select></button></div></div></div></header><header class="mobile print:!tw-hidden" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Web Developer Hodory"><img class="tw-inline tw-align-text-bottom tw-mr-1" src=/images/logo.png alt="Web Developer Hodory" height=32 width=32>Web Developer Hodory</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><button class="menu-item theme-select tw-w-full" aria-label="Switch Theme">
<svg class="icon" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705.0 184 82.311 184 184 0 101.705-82.311 184-184 184z"/></svg>
<select class=color-theme-select id=theme-select-mobile aria-label="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=auto>Auto</option></select></button></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class="toc print:!tw-hidden" id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#comparison>Comparison</a></li><li><a href=#code>Code</a><ul><li><a href=#php-dynamic-array>PHP Dynamic Array</a></li><li><a href=#php-class-with-constructor>PHP Class With Constructor</a></li><li><a href=#php-class-with-setter>PHP Class With Setter</a></li><li><a href=#illuminatesupportcollection>Illuminate\Support\Collection</a></li><li><a href=#collection--class-based-collection>Collection + Class Based Collection</a></li></ul></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single print:!tw-w-full print:!tw-max-w-none print:!tw-m-0 print:!tw-p-0"><h1 class=single-title data-pagefind-meta=date:2024-12-15 data-pagefind-body>[PHP] Array And Class Object Performance Test</h1><div class=post-meta><div class=post-meta-line><span class=post-author><svg class="icon" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6.0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7.0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4.0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9s28-2.7 40.9-6.9c2.3-.7 4.7-1.1 7.1-1.1 42.9.0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"/></svg><a href=/ title=Author rel=author class=author>hodory</a>
</span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=/categories/php/><svg class="icon" viewBox="0 0 512 512"><path d="M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49.0 112v288c0 26.51 21.49 48 48 48h416c26.51.0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"/></svg>PHP</a></span></div><div class=post-meta-line><svg class="icon" viewBox="0 0 448 512"><path d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg>&nbsp;<time datetime=2024-12-15>2024-12-15</time>&nbsp;<svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg>&nbsp;<time datetime=2024-12-15>2024-12-15</time>&nbsp;<svg class="icon" viewBox="0 0 512 512"><path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3.0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9.0l60.1 60.1c18.8 18.7 18.8 49.1.0 67.9zM284.2 99.8 21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3.0-17l-111-111c-4.8-4.7-12.4-4.7-17.1.0zM124.1 339.9c-5.5-5.5-5.5-14.3.0-19.8l154-154c5.5-5.5 14.3-5.5 19.8.0s5.5 14.3.0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8.0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/></svg>&nbsp;35030 words&nbsp;
<svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5.0-2e2-89.5-2e2-2e2S145.5 56 256 56s2e2 89.5 2e2 2e2-89.5 2e2-2e2 2e2zm61.8-104.4-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6.0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>&nbsp;154 minutes&nbsp;</div></div><div class="details toc print:!tw-block" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span class=details-icon><svg class="icon" viewBox="0 0 256 512"><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9.0l-22.6-22.6c-9.4-9.4-9.4-24.6.0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6.0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9.0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#comparison>Comparison</a></li><li><a href=#code>Code</a><ul><li><a href=#php-dynamic-array>PHP Dynamic Array</a></li><li><a href=#php-class-with-constructor>PHP Class With Constructor</a></li><li><a href=#php-class-with-setter>PHP Class With Setter</a></li><li><a href=#illuminatesupportcollection>Illuminate\Support\Collection</a></li><li><a href=#collection--class-based-collection>Collection + Class Based Collection</a></li></ul></li></ul></nav></div></div><div class=content id=content data-pagefind-body><h2 id=comparison class=headerLink><a href=#comparison class=header-mark></a>Comparison</h2><div class=table-wrapper><table><thead><tr><th style=text-align:></th><th style=text-align:>PHP Dynamic Array</th><th style=text-align:>Class With Constructor</th><th style=text-align:>Class With Setter</th><th style=text-align:>Illuminate\Support\Collection</th><th style=text-align:>Collection + Class Based Collection</th></tr></thead><tbody><tr><td style=text-align:>Test Link</td><td style=text-align:><a href=https://3v4l.org/h08dj/perf target=_blank rel="noopener noreferrer">https://3v4l.org/h08dj/perf</a></td><td style=text-align:><a href=https://3v4l.org/CU0MC/perf target=_blank rel="noopener noreferrer">https://3v4l.org/CU0MC/perf</a></td><td style=text-align:><a href=https://3v4l.org/IqmsA/perf target=_blank rel="noopener noreferrer">https://3v4l.org/IqmsA/perf</a></td><td style=text-align:>코드가 너무 길어서 테스트 불가</td><td style=text-align:>코드가 너무 길어서 테스트 불가</td></tr><tr><td style=text-align:>Memory Peak</td><td style=text-align:>536 MB</td><td style=text-align:>254 MB</td><td style=text-align:>254 MB</td><td style=text-align:>658 MB</td><td style=text-align:>660 MB</td></tr><tr><td style=text-align:>Execution Time</td><td style=text-align:>Execution Time: 2.32 seconds</td><td style=text-align:>Execution Time: 3.38 seconds</td><td style=text-align:>Execution Time: 4.25 seconds</td><td style=text-align:>Execution Time: 3.55 seconds</td><td style=text-align:>Execution Time: 5.96 seconds</td></tr></tbody></table></div><h2 id=code class=headerLink><a href=#code class=header-mark></a>Code</h2><h3 id=php-dynamic-array class=headerLink><a href=#php-dynamic-array class=header-mark></a>PHP Dynamic Array</h3><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="code-block-title
tw-flex
tw-flex-row
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-rotate-90
tw-transition-[transform]
tw-duration-500
tw-ease-in-out
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button><div class="code-block-title-bar tw-w-full"><p class="tw-select-none !tw-my-1">PHP</p></div><div class=tw-flex><button class="line-number-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-1 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=nx>ini_set</span><span class=p>(</span><span class=s1>&#39;memory_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;1024M&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$start</span> <span class=o>=</span> <span class=nx>microtime</span><span class=p>(</span><span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$product</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=nv>$k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$k</span> <span class=o>&lt;=</span> <span class=mi>1000</span><span class=p>;</span> <span class=nv>$k</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$options</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nv>$j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$j</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>;</span> <span class=nv>$j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$optionItems</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$i</span> <span class=o>&lt;=</span> <span class=mi>100</span><span class=p>;</span> <span class=nv>$i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItems</span><span class=p>[]</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;OptionItem&#39;</span> <span class=o>.</span> <span class=nv>$i</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;description&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;OptionItem &#39;</span> <span class=o>.</span> <span class=nv>$i</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;price&#39;</span> <span class=o>=&gt;</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$options</span><span class=p>[]</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Option&#39;</span> <span class=o>.</span> <span class=nv>$j</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;description&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Option &#39;</span> <span class=o>.</span> <span class=nv>$j</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;price&#39;</span> <span class=o>=&gt;</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=s1>&#39;items&#39;</span> <span class=o>=&gt;</span> <span class=nv>$optionItems</span>
</span></span><span class=line><span class=cl>        <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=p>[]</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;title&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Product&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;description&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Product &#39;</span> <span class=o>.</span> <span class=nv>$k</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;price&#39;</span> <span class=o>=&gt;</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;currency&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;USD&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;category&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Category&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;brand&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Brand&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s1>&#39;options&#39;</span> <span class=o>=&gt;</span> <span class=nv>$options</span>
</span></span><span class=line><span class=cl>    <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$end</span> <span class=o>=</span> <span class=nx>microtime</span><span class=p>(</span><span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Memory Peak Usage: &#39;</span> <span class=o>.</span> <span class=p>(</span><span class=nx>memory_get_peak_usage</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <span class=o>/</span> <span class=mi>1024</span> <span class=o>/</span> <span class=mi>1024</span><span class=p>)</span> <span class=o>.</span> <span class=s1>&#39; MB&#39;</span> <span class=o>.</span> <span class=s1>&#39;&lt;br&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Execution Time: &#39;</span> <span class=o>.</span> <span class=nx>round</span><span class=p>(</span><span class=nv>$end</span> <span class=o>-</span> <span class=nv>$start</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>.</span> <span class=s1>&#39; seconds&#39;</span> <span class=o>.</span> <span class=s1>&#39;&lt;br&gt;&#39;</span><span class=p>;</span></span></span></code></pre></div><h3 id=php-class-with-constructor class=headerLink><a href=#php-class-with-constructor class=header-mark></a>PHP Class With Constructor</h3><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="code-block-title
tw-flex
tw-flex-row
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-rotate-90
tw-transition-[transform]
tw-duration-500
tw-ease-in-out
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button><div class="code-block-title-bar tw-w-full"><p class="tw-select-none !tw-my-1">PHP</p></div><div class=tw-flex><button class="line-number-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-2 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Product</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>array</span> <span class=nv>$options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $currency
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $category
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $brand
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $options
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>,</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$currency</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$category</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$brand</span><span class=p>,</span> <span class=k>array</span> <span class=nv>$options</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>currency</span> <span class=o>=</span> <span class=nv>$currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>category</span> <span class=o>=</span> <span class=nv>$category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>brand</span> <span class=o>=</span> <span class=nv>$brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>options</span> <span class=o>=</span> <span class=nv>$options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getTitle</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getDescription</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return int
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getPrice</span><span class=p>()</span><span class=o>:</span> <span class=nx>int</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getCurrency</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $currency
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setCurrency</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$currency</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>currency</span> <span class=o>=</span> <span class=nv>$currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getCategory</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $category
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setCategory</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$category</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>category</span> <span class=o>=</span> <span class=nv>$category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getBrand</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $brand
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setBrand</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$brand</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>brand</span> <span class=o>=</span> <span class=nv>$brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return array
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getOptions</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $options
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setOptions</span><span class=p>(</span><span class=k>array</span> <span class=nv>$options</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>options</span> <span class=o>=</span> <span class=nv>$options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Option</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>array</span> <span class=nv>$items</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $items
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>,</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>,</span> <span class=k>array</span> <span class=nv>$items</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>items</span> <span class=o>=</span> <span class=nv>$items</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $items
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setItems</span><span class=p>(</span><span class=k>array</span> <span class=nv>$items</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>items</span> <span class=o>=</span> <span class=nv>$items</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OptionItem</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>,</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>,</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$product</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=nv>$k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$k</span> <span class=o>&lt;=</span> <span class=mi>100</span><span class=p>;</span> <span class=nv>$k</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$options</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nv>$j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$j</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>;</span> <span class=nv>$j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$optionItems</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$i</span> <span class=o>&lt;=</span> <span class=mi>100</span><span class=p>;</span> <span class=nv>$i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItem</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>OptionItem</span><span class=p>(</span><span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;OptionItem&#39;</span> <span class=o>.</span> <span class=nv>$i</span><span class=p>,</span> <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;OptionItem &#39;</span> <span class=o>.</span> <span class=nv>$i</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>));</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItems</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$optionItem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Option</span><span class=p>(</span><span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Option&#39;</span> <span class=o>.</span> <span class=nv>$j</span><span class=p>,</span> <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;Option &#39;</span> <span class=o>.</span> <span class=nv>$j</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span> <span class=nx>items</span><span class=o>:</span> <span class=nv>$optionItems</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$options</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$option</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=p>[]</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Product</span><span class=p>(</span><span class=nx>title</span><span class=o>:</span> <span class=s1>&#39;Product&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span> <span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;Product &#39;</span> <span class=o>.</span> <span class=nv>$k</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>),</span> <span class=nx>currency</span><span class=o>:</span> <span class=s1>&#39;USD&#39;</span><span class=p>,</span> <span class=nx>category</span><span class=o>:</span> <span class=s1>&#39;Category&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span> <span class=nx>brand</span><span class=o>:</span> <span class=s1>&#39;Brand&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>,</span> <span class=nx>options</span><span class=o>:</span> <span class=nv>$options</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h3 id=php-class-with-setter class=headerLink><a href=#php-class-with-setter class=header-mark></a>PHP Class With Setter</h3><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="code-block-title
tw-flex
tw-flex-row
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-rotate-90
tw-transition-[transform]
tw-duration-500
tw-ease-in-out
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button><div class="code-block-title-bar tw-w-full"><p class="tw-select-none !tw-my-1">PHP</p></div><div class=tw-flex><button class="line-number-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-3 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl> <span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=nx>ini_set</span><span class=p>(</span><span class=s1>&#39;memory_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;1024M&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Product</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>array</span> <span class=nv>$options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getTitle</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getDescription</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return int
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getPrice</span><span class=p>()</span><span class=o>:</span> <span class=nx>int</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getCurrency</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $currency
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setCurrency</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$currency</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>currency</span> <span class=o>=</span> <span class=nv>$currency</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getCategory</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $category
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setCategory</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$category</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>category</span> <span class=o>=</span> <span class=nv>$category</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return string
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getBrand</span><span class=p>()</span><span class=o>:</span> <span class=nx>string</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $brand
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setBrand</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$brand</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>brand</span> <span class=o>=</span> <span class=nv>$brand</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @return array
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>getOptions</span><span class=p>()</span><span class=o>:</span> <span class=k>array</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $options
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setOptions</span><span class=p>(</span><span class=k>array</span> <span class=nv>$options</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>options</span> <span class=o>=</span> <span class=nv>$options</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Option</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>array</span> <span class=nv>$items</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param array $items
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setItems</span><span class=p>(</span><span class=k>array</span> <span class=nv>$items</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>items</span> <span class=o>=</span> <span class=nv>$items</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OptionItem</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>string</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=nx>int</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setTitle</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$title</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>title</span> <span class=o>=</span> <span class=nv>$title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setDescription</span><span class=p>(</span><span class=nx>string</span> <span class=nv>$description</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>description</span> <span class=o>=</span> <span class=nv>$description</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>setPrice</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$price</span><span class=p>)</span><span class=o>:</span> <span class=nx>void</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>price</span> <span class=o>=</span> <span class=nv>$price</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nv>$start</span> <span class=o>=</span> <span class=nx>microtime</span><span class=p>(</span><span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$products</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=nv>$k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$k</span> <span class=o>&lt;=</span> <span class=mi>1000</span><span class=p>;</span> <span class=nv>$k</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Product</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setTitle</span><span class=p>(</span><span class=s1>&#39;Product&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setDescription</span><span class=p>(</span><span class=s1>&#39;Product &#39;</span> <span class=o>.</span> <span class=nv>$k</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setPrice</span><span class=p>(</span><span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setCurrency</span><span class=p>(</span><span class=s1>&#39;USD&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setCategory</span><span class=p>(</span><span class=s1>&#39;Category&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setBrand</span><span class=p>(</span><span class=s1>&#39;Brand&#39;</span> <span class=o>.</span> <span class=nv>$k</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$options</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nv>$j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$j</span> <span class=o>&lt;=</span> <span class=mi>10</span><span class=p>;</span> <span class=nv>$j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Option</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span><span class=o>-&gt;</span><span class=na>setTitle</span><span class=p>(</span><span class=s1>&#39;Option&#39;</span> <span class=o>.</span> <span class=nv>$j</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span><span class=o>-&gt;</span><span class=na>setDescription</span><span class=p>(</span><span class=s1>&#39;Option &#39;</span> <span class=o>.</span> <span class=nv>$j</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span><span class=o>-&gt;</span><span class=na>setPrice</span><span class=p>(</span><span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$optionItems</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=nv>$i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$i</span> <span class=o>&lt;=</span> <span class=mi>100</span><span class=p>;</span> <span class=nv>$i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItem</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>OptionItem</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItem</span><span class=o>-&gt;</span><span class=na>setTitle</span><span class=p>(</span><span class=s1>&#39;Option Item&#39;</span> <span class=o>.</span> <span class=nv>$i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItem</span><span class=o>-&gt;</span><span class=na>setDescription</span><span class=p>(</span><span class=s1>&#39;Option Item &#39;</span> <span class=o>.</span> <span class=nv>$i</span> <span class=o>.</span> <span class=s1>&#39; Description&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItem</span><span class=o>-&gt;</span><span class=na>setPrice</span><span class=p>(</span><span class=nx>random_int</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>10000</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nv>$optionItems</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$optionItem</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=nv>$option</span><span class=o>-&gt;</span><span class=na>setItems</span><span class=p>(</span><span class=nv>$optionItems</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nv>$options</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$option</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nv>$product</span><span class=o>-&gt;</span><span class=na>setOptions</span><span class=p>(</span><span class=nv>$options</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nv>$products</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$product</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$end</span> <span class=o>=</span> <span class=nx>microtime</span><span class=p>(</span><span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Memory Peak Usage: &#39;</span> <span class=o>.</span> <span class=p>(</span><span class=nx>memory_get_peak_usage</span><span class=p>(</span><span class=k>true</span><span class=p>)</span> <span class=o>/</span> <span class=mi>1024</span> <span class=o>/</span> <span class=mi>1024</span><span class=p>)</span> <span class=o>.</span> <span class=s1>&#39; MB&#39;</span> <span class=o>.</span> <span class=s1>&#39;&lt;br&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Execution Time: &#39;</span> <span class=o>.</span> <span class=nx>round</span><span class=p>(</span><span class=nv>$end</span> <span class=o>-</span> <span class=nv>$start</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>.</span> <span class=s1>&#39; seconds&#39;</span> <span class=o>.</span> <span class=s1>&#39;&lt;br&gt;&#39;</span><span class=p>;</span></span></span></code></pre></div><h3 id=illuminatesupportcollection class=headerLink><a href=#illuminatesupportcollection class=header-mark></a>Illuminate\Support\Collection</h3><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="code-block-title
tw-flex
tw-flex-row
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-rotate-90
tw-transition-[transform]
tw-duration-500
tw-ease-in-out
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button><div class="code-block-title-bar tw-w-full"><p class="tw-select-none !tw-my-1">PHP</p></div><div class=tw-flex><button class="line-number-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-4 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nx>Illuminate\Contracts\Support</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ini_set</span><span class=p>(</span><span class=s1>&#39;memory_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;1024M&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>interface</span> <span class=nx>CanBeEscapedWhenCastToString</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Indicate that the object&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=sd>     *
</span></span></span><span class=line><span class=cl><span class=sd>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=sd>     * @return $this
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>escapeWhenCastingToString</span><span class=p>(</span><span class=nv>$escape</span> <span class=o>=</span> <span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use Closure;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\HigherOrderWhenProxy;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>trait Conditionable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) truthy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenParameter
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (\Closure($this): TWhenParameter)|TWhenParameter|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TWhenParameter): TWhenReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TWhenParameter): TWhenReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function when($value = null, ?callable $callback = null, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = $value instanceof Closure ? $value($this) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new HigherOrderWhenProxy($this);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;condition($value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($value) {
</span></span></span><span class=line><span class=cl><span class=err>            return $callback($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        } elseif ($default) {
</span></span></span><span class=line><span class=cl><span class=err>            return $default($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) falsy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessParameter
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (\Closure($this): TUnlessParameter)|TUnlessParameter|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TUnlessParameter): TUnlessReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TUnlessParameter): TUnlessReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unless($value = null, ?callable $callback = null, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = $value instanceof Closure ? $value($this) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;negateConditionOnCapture();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;condition(! $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $value) {
</span></span></span><span class=line><span class=cl><span class=err>            return $callback($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        } elseif ($default) {
</span></span></span><span class=line><span class=cl><span class=err>            return $default($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use ArgumentCountError;
</span></span></span><span class=line><span class=cl><span class=err>use \ArrayAccess;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Traits\Macroable;
</span></span></span><span class=line><span class=cl><span class=err>use InvalidArgumentException;
</span></span></span><span class=line><span class=cl><span class=err>use Random\Randomizer;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>class Arr
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    use Macroable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine whether the given value is array accessible.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function accessible($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return is_array($value) || $value instanceof ArrayAccess;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add an element to an array using &#34;dot&#34; notation if it doesn&#39;t exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|float  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function add($array, $key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null(static::get($array, $key))) {
</span></span></span><span class=line><span class=cl><span class=err>            static::set($array, $key, $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse an array of arrays into a single array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function collapse($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $values) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($values instanceof Collection) {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $values-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif (! is_array($values)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[] = $values;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_merge([], ...$results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join the given arrays, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  ...$arrays
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function crossJoin(...$arrays)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [[]];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($arrays as $index =&gt; $array) {
</span></span></span><span class=line><span class=cl><span class=err>            $append = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($results as $product) {
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>                    $product[$index] = $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    $append[] = $product;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results = $append;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Divide an array into two arrays. One with keys and the other with values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function divide($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return [array_keys($array), array_values($array)];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional associative array with dots.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $prepend
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function dot($array, $prepend = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($value) &amp;&amp; ! empty($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                $results = array_merge($results, static::dot($value, $prepend.$key.&#39;.&#39;));
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $results[$prepend.$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function undot($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            static::set($results, $key, $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all of the given array except for a specified array of keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string|int|float  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function except($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::forget($array, $keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the given key exists in the provided array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|float  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function exists($array, $key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($array instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array-&gt;has($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($array instanceof ArrayAccess) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array-&gt;offsetExists($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_float($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            $key = (string) $key;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_key_exists($key, $array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return the first element in an array passing a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TKey, TValue&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function first($array, ?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            if (empty($array)) {
</span></span></span><span class=line><span class=cl><span class=err>                return value($default);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>                return $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($value, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return the last element in an array passing a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function last($array, ?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            return empty($array) ? value($default) : end($array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::first(array_reverse($array, true), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function take($array, $limit)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($limit &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_slice($array, $limit, abs($limit));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_slice($array, 0, $limit);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional array into a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function flatten($array, $depth = INF)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $item = $item instanceof Collection ? $item-&gt;all() : $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($item)) {
</span></span></span><span class=line><span class=cl><span class=err>                $result[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $depth === 1
</span></span></span><span class=line><span class=cl><span class=err>                    ? array_values($item)
</span></span></span><span class=line><span class=cl><span class=err>                    : static::flatten($item, $depth - 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($values as $value) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Remove one or many array items from a given array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string|int|float  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function forget(&amp;$array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $original = &amp;$array;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($keys) === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            // if the exact key exists in the top-level, remove it
</span></span></span><span class=line><span class=cl><span class=err>            if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                unset($array[$key]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $parts = explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // clean up before each pass
</span></span></span><span class=line><span class=cl><span class=err>            $array = &amp;$original;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            while (count($parts) &gt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>                $part = array_shift($parts);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (isset($array[$part]) &amp;&amp; static::accessible($array[$part])) {
</span></span></span><span class=line><span class=cl><span class=err>                    $array = &amp;$array[$part];
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    continue 2;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            unset($array[array_shift($parts)]);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function get($array, $key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::accessible($array)) {
</span></span></span><span class=line><span class=cl><span class=err>            return value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! str_contains($key, &#39;.&#39;)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$key] ?? value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (explode(&#39;.&#39;, $key) as $segment) {
</span></span></span><span class=line><span class=cl><span class=err>            if (static::accessible($array) &amp;&amp; static::exists($array, $segment)) {
</span></span></span><span class=line><span class=cl><span class=err>                $array = $array[$segment];
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                return value($default);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Check if an item or items exist in an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function has($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $array || $keys === []) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $subKeyArray = $array;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach (explode(&#39;.&#39;, $key) as $segment) {
</span></span></span><span class=line><span class=cl><span class=err>                if (static::accessible($subKeyArray) &amp;&amp; static::exists($subKeyArray, $segment)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $subKeyArray = $subKeyArray[$segment];
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    return false;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return true;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function hasAny($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $array) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys === []) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            if (static::has($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determines if an array is associative.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * An array is &#34;associative&#34; if it doesn&#39;t have sequential numerical keys beginning with zero.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function isAssoc(array $array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! array_is_list($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determines if an array is a list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * An array is a &#34;list&#34; if all array keys are sequential integers starting from 0 with no gaps in between.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function isList($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_is_list($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function join($array, $glue, $finalGlue = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($finalGlue === &#39;&#39;) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue, $array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($array) === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return &#39;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($array) === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return end($array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $finalItem = array_pop($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode($glue, $array).$finalGlue.$finalItem;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function keyBy($array, $keyBy)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;keyBy($keyBy)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Prepend the key names of an associative array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $prependWith
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function prependKeysWith($array, $prependWith)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::mapWithKeys($array, fn ($item, $key) =&gt; [$prependWith.$key =&gt; $item]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a subset of the items from the given array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function only($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_intersect_key($array, array_flip((array) $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Select an array of values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function select($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = static::wrap($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::map($array, function ($item) use ($keys) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                if (Arr::accessible($item) &amp;&amp; Arr::exists($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[$key] = $item[$key];
</span></span></span><span class=line><span class=cl><span class=err>                } elseif (is_object($item) &amp;&amp; isset($item-&gt;{$key})) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[$key] = $item-&gt;{$key};
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $result;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pluck an array of values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|int|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function pluck($array, $value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        [$value, $key] = static::explodePluckParameters($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $itemValue = data_get($item, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // If the key is &#34;null&#34;, we will just append the value to the array and keep
</span></span></span><span class=line><span class=cl><span class=err>            // looping. Otherwise we will key the array using the value of the key we
</span></span></span><span class=line><span class=cl><span class=err>            // received from the developer. Then we&#39;ll return the final array form.
</span></span></span><span class=line><span class=cl><span class=err>            if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[] = $itemValue;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $itemKey = data_get($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (is_object($itemKey) &amp;&amp; method_exists($itemKey, &#39;__toString&#39;)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $itemKey = (string) $itemKey;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $results[$itemKey] = $itemValue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Explode the &#34;value&#34; and &#34;key&#34; arguments passed to &#34;pluck&#34;.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static function explodePluckParameters($value, $key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = is_string($value) ? explode(&#39;.&#39;, $value) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $key = is_null($key) || is_array($key) ? $key : explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return [$value, $key];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items in the array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function map(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = array_keys($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        try {
</span></span></span><span class=line><span class=cl><span class=err>            $items = array_map($callback, $array, $keys);
</span></span></span><span class=line><span class=cl><span class=err>        } catch (ArgumentCountError) {
</span></span></span><span class=line><span class=cl><span class=err>            $items = array_map($callback, $array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_combine($keys, $items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TKey, TValue&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mapWithKeys(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $assoc = $callback($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($assoc as $mapKey =&gt; $mapValue) {
</span></span></span><span class=line><span class=cl><span class=err>                $result[$mapKey] = $mapValue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TKey, array&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(mixed...): TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mapSpread(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::map($array, function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push an item onto the beginning of an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function prepend($array, $value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() == 2) {
</span></span></span><span class=line><span class=cl><span class=err>            array_unshift($array, $value);
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $array = [$key =&gt; $value] + $array;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a value from the array, and remove it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function pull(&amp;$array, $key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = static::get($array, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        static::forget($array, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the array into a query string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function query($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return http_build_query($array, &#39;&#39;, &#39;&amp;&#39;, PHP_QUERY_RFC3986);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of random values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function random($array, $number = null, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $requested = is_null($number) ? 1 : $number;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = count($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($requested &gt; $count) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new InvalidArgumentException(
</span></span></span><span class=line><span class=cl><span class=err>                &#34;You requested {$requested} items, but there are only {$count} items available.&#34;
</span></span></span><span class=line><span class=cl><span class=err>            );
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (empty($array) || (! is_null($number) &amp;&amp; $number &lt;= 0)) {
</span></span></span><span class=line><span class=cl><span class=err>            return is_null($number) ? null : [];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (new Randomizer)-&gt;pickArrayKeys($array, $requested);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$keys[0]];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($preserveKeys) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[$key] = $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[] = $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Set an array item to a given value using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * If no key is given to the method, the entire array will be replaced.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function set(&amp;$array, $key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $i =&gt; $key) {
</span></span></span><span class=line><span class=cl><span class=err>            if (count($keys) === 1) {
</span></span></span><span class=line><span class=cl><span class=err>                break;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            unset($keys[$i]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // If the key doesn&#39;t exist at this depth, we will just create an empty array
</span></span></span><span class=line><span class=cl><span class=err>            // to hold the next value, allowing us to create the arrays to hold final
</span></span></span><span class=line><span class=cl><span class=err>            // values at the correct depth. Then we&#39;ll keep digging into the array.
</span></span></span><span class=line><span class=cl><span class=err>            if (! isset($array[$key]) || ! is_array($array[$key])) {
</span></span></span><span class=line><span class=cl><span class=err>                $array[$key] = [];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $array = &amp;$array[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $array[array_shift($keys)] = $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the given array and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function shuffle($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return (new Randomizer)-&gt;shuffleArray($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the array using the given callback or &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sort($array, $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;sortBy($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the array in descending order using the given callback or &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortDesc($array, $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;sortByDesc($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively sort an array by keys and values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortRecursive($array, $options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as &amp;$value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                $value = static::sortRecursive($value, $options, $descending);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! array_is_list($array)) {
</span></span></span><span class=line><span class=cl><span class=err>            $descending
</span></span></span><span class=line><span class=cl><span class=err>                ? krsort($array, $options)
</span></span></span><span class=line><span class=cl><span class=err>                : ksort($array, $options);
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $descending
</span></span></span><span class=line><span class=cl><span class=err>                ? rsort($array, $options)
</span></span></span><span class=line><span class=cl><span class=err>                : sort($array, $options);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively sort an array by keys and values in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortRecursiveDesc($array, $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::sortRecursive($array, $options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Conditionally compile classes from an array into a CSS class list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function toCssClasses($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $classList = static::wrap($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $classes = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($classList as $class =&gt; $constraint) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_numeric($class)) {
</span></span></span><span class=line><span class=cl><span class=err>                $classes[] = $constraint;
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($constraint) {
</span></span></span><span class=line><span class=cl><span class=err>                $classes[] = $class;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode(&#39; &#39;, $classes);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Conditionally compile styles from an array into a style list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function toCssStyles($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $styleList = static::wrap($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $styles = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($styleList as $class =&gt; $constraint) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_numeric($class)) {
</span></span></span><span class=line><span class=cl><span class=err>                $styles[] = Str::finish($constraint, &#39;;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($constraint) {
</span></span></span><span class=line><span class=cl><span class=err>                $styles[] = Str::finish($class, &#39;;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode(&#39; &#39;, $styles);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the array using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function where($array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_filter($array, $callback, ARRAY_FILTER_USE_BOTH);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function whereNotNull($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::where($array, fn ($value) =&gt; ! is_null($value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * If the given value is not an array and not null, wrap it in one.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return [];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return is_array($value) ? $value : [$value];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Contracts\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>interface Jsonable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object to its JSON representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0);
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Contracts\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> * @template TValue
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>interface Arrayable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the instance as an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray();
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use BadMethodCallException;
</span></span></span><span class=line><span class=cl><span class=err>use ReflectionClass;
</span></span></span><span class=line><span class=cl><span class=err>use ReflectionMethod;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>trait Macroable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The registered string macros.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static $macros = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Register a custom macro.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $name
</span></span></span><span class=line><span class=cl><span class=err>     * @param  object|callable  $macro
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param-closure-this static  $macro
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function macro($name, $macro)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$macros[$name] = $macro;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Mix another object into the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  object  $mixin
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $replace
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \ReflectionException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mixin($mixin, $replace = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $methods = (new ReflectionClass($mixin))-&gt;getMethods(
</span></span></span><span class=line><span class=cl><span class=err>            ReflectionMethod::IS_PUBLIC | ReflectionMethod::IS_PROTECTED
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($methods as $method) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($replace || ! static::hasMacro($method-&gt;name)) {
</span></span></span><span class=line><span class=cl><span class=err>                static::macro($method-&gt;name, $method-&gt;invoke($mixin));
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Checks if macro is registered.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $name
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function hasMacro($name)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return isset(static::$macros[$name]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flush the existing macros.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function flushMacros()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$macros = [];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically handle calls to the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $parameters
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \BadMethodCallException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function __callStatic($method, $parameters)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::hasMacro($method)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new BadMethodCallException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                &#39;Method %s::%s does not exist.&#39;, static::class, $method
</span></span></span><span class=line><span class=cl><span class=err>            ));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $macro = static::$macros[$method];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($macro instanceof Closure) {
</span></span></span><span class=line><span class=cl><span class=err>            $macro = $macro-&gt;bindTo(null, static::class);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $macro(...$parameters);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically handle calls to the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $parameters
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \BadMethodCallException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __call($method, $parameters)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::hasMacro($method)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new BadMethodCallException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                &#39;Method %s::%s does not exist.&#39;, static::class, $method
</span></span></span><span class=line><span class=cl><span class=err>            ));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $macro = static::$macros[$method];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($macro instanceof Closure) {
</span></span></span><span class=line><span class=cl><span class=err>            $macro = $macro-&gt;bindTo($this, static::class);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $macro(...$parameters);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use CachingIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Countable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Arrayable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Jsonable;
</span></span></span><span class=line><span class=cl><span class=err>use IteratorAggregate;
</span></span></span><span class=line><span class=cl><span class=err>use JsonSerializable;
</span></span></span><span class=line><span class=cl><span class=err>use \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @extends \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> * @extends \IteratorAggregate&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>interface Enumerable extends Arrayable, Countable, IteratorAggregate, Jsonable, JsonSerializable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection instance if the value isn&#39;t one already.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TMakeKey, TMakeValue&gt;|iterable&lt;TMakeKey, TMakeValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMakeKey, TMakeValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function make($items = []);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance by invoking the callback a given amount of times.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function times($number, ?callable $callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection with the given range.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $from
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $to
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function range($from, $to, $step = 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Wrap the given value in a collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;array-key, TWrapValue&gt;|TWrapValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, TWrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the underlying items from the given collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TUnwrapKey, TUnwrapValue&gt;|static&lt;TUnwrapKey, TUnwrapValue&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TUnwrapKey, TUnwrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function unwrap($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance with no items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function empty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items in the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function all();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;avg&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function average($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the median of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function median($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the mode of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;int, float|int&gt;|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mode($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the items into a single enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapse();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;contains&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function some($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists, using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|TValue|array-key  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsStrict($key, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the average value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function avg($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function contains($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item is not contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function doesntContain($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join with the given lists, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TCrossJoinKey, TCrossJoinValue&gt;|iterable&lt;TCrossJoinKey, TCrossJoinValue&gt;  ...$lists
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, array&lt;int, TValue|TCrossJoinValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function crossJoin(...$lists);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the collection and end the script.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return never
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dd(...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dump(...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items that are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diff($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items that are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys and values are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssoc($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys and values are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssocUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeys($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeysUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicates($callback = null, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicatesStrict($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function each(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function eachSpread(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if all items pass the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function every($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items except for those with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function except($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a filter over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function filter(?callable $callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) truthy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenReturnType as null
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function when($value, ?callable $callback = null, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TWhenNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenNotEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) falsy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unless($value, callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessNotEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function where($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNull($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotNull($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereStrict($key, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereIn($key, $values, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInStrict($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereBetween($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is not between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotBetween($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotIn($key, $values, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotInStrict($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the items, removing any items that don&#39;t match the given type(s).
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhereInstanceOf
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TWhereInstanceOf&gt;|array&lt;array-key, class-string&lt;TWhereInstanceOf&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TWhereInstanceOf&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInstanceOf($type);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item from the enumerable passing the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue,TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function first(?callable $callback = null, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstWhere($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a flattened array of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatten($depth = INF);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flip the values with their keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flip();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetDefault|(\Closure(): TGetDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function get($key, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Group an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGroupKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TGroupKey)|array|string  $groupBy
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($groupBy is string ? array-key : ($groupBy is array ? array-key : TGroupKey)), static&lt;($preserveKeys is true ? TKey : int), TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function groupBy($groupBy, $preserveKeys = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TNewKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TNewKey)|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($keyBy is string ? array-key : ($keyBy is array ? array-key : TNewKey)), TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keyBy($keyBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|array&lt;array-key, TKey&gt;  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function has($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function hasAny($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Concatenate values of a given key as a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function implode($value, $glue = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersect($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssoc($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssocUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectByKeys($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is empty or not.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isEmpty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isNotEmpty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection contains a single item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsOneItem();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items from the collection using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function join($glue, $finalGlue = &#39;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the keys of the collection items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keys();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the last item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TLastDefault|(\Closure(): TLastDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function last(?callable $callback = null, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TMapValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function map(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapSpread(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a dictionary map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToDictionaryKey, TMapToDictionaryValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToDictionaryKey, array&lt;int, TMapToDictionaryValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToDictionary(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a grouping map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToGroupsKey, TMapToGroupsValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToGroupsKey, static&lt;int, TMapToGroupsValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToGroups(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapWithKeysKey, TMapWithKeysValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapWithKeys(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map a collection and flatten the result by a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): (\Illuminate\Support\Collection&lt;TFlatMapKey, TFlatMapValue&gt;|array&lt;TFlatMapKey, TFlatMapValue&gt;)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TFlatMapKey, TFlatMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatMap(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map the values into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TMapIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapIntoValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapInto($class);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function merge($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMergeRecursiveValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TMergeRecursiveValue&gt;|iterable&lt;TKey, TMergeRecursiveValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TValue|TMergeRecursiveValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mergeRecursive($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection by using this collection for keys and another for its values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCombineValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TCombineValue&gt;|iterable&lt;array-key, TCombineValue&gt;  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TCombineValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function combine($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Union the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function union($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the min value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function min($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the max value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function max($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection consisting of every n-th element.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function nth($step, $offset = 0);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function only($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * &#34;Paginate&#34; the collection by slicing it into a smaller collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $page
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $perPage
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forPage($page, $perPage);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Partition the collection into two arrays using the given callback or key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int&lt;0, 1&gt;, static&lt;TKey, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function partition($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push all of the given items onto the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TConcatKey, TConcatValue&gt;  $source
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey|TConcatKey, TValue|TConcatValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function concat($source);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of items randomly from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function random($number = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceInitial|TReduceReturnType, TValue, TKey): TReduceReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduce(callable $callback, $initial = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to multiple aggregate values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceSpread(callable $callback, ...$initial);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replace($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replaceRecursive($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reverse items order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reverse();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Search the collection for a given value and return the corresponding key if successful.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TKey|bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function search($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item before the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function before($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item after the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function after($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shuffle();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create chunks representing a &#34;sliding window&#34; view of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sliding($size = 2, $step = 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip the first {$count} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skip($count);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipUntil($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipWhile($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a slice of items from the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function slice($offset, $length = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function split($numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection, but only if exactly one item exists. Otherwise, throw an exception.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\MultipleItemsFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sole($key = null, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection but throw an exception if no matching items exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstOrFail($key = null, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks of the given size.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunk($size);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey, static&lt;int, TValue&gt;): bool  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunkWhile(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups, and fill the first groups completely.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splitIn($numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort through each item with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TValue): int)|null|int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sort($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort items in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortDesc($options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortBy($callback, $options = SORT_REGULAR, $descending = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection in descending order using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortByDesc($callback, $options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeys($options = SORT_REGULAR, $descending = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysDesc($options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysUsing(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the sum of the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sum($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function take($limit);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeUntil($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeWhile($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and then return it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function tap(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the enumerable to the given callback and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TPipeReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipe(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TPipeIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeInto($class);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection through a series of callable pipes and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;callable&gt;  $pipes
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeThrough($pipes);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pluck($value, $key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection of all elements that do not pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|bool|TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reject($callback = true);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function undot();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function uniqueStrict($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reset the keys on the underlying array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function values();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pad collection to the specified length with a value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPadValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue|TPadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pad($size, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values iterator.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Traversable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getIterator(): \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return int
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function count(): int;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): array-key)|string|null  $countBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function countBy($countBy = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Zip the collection together with one or more arrays.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * e.g. new Collection([1, 2, 3])-&gt;zip([4, 5, 6]);
</span></span></span><span class=line><span class=cl><span class=err>     *      =&gt; [[1, 4], [2, 5], [3, 6]]
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TZipValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TZipValue&gt;|iterable&lt;array-key, TZipValue&gt;  ...$items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue|TZipValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function zip($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collect the values into a collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collect();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as a plain array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object into something JSON serializable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function jsonSerialize(): mixed;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as JSON.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a CachingIterator instance.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $flags
</span></span></span><span class=line><span class=cl><span class=err>     * @return \CachingIterator
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCachingIterator($flags = CachingIterator::CALL_TOSTRING);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the collection to its string representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __toString();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicate that the model&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function escapeWhenCastingToString($escape = true);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add a method to the list of proxied methods.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function proxy($method);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically access collection proxies.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Exception
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __get($key);
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use BackedEnum;
</span></span></span><span class=line><span class=cl><span class=err>use CachingIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Exception;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Arrayable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Jsonable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Arr;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Collection;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Enumerable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\HigherOrderCollectionProxy;
</span></span></span><span class=line><span class=cl><span class=err>use InvalidArgumentException;
</span></span></span><span class=line><span class=cl><span class=err>use JsonSerializable;
</span></span></span><span class=line><span class=cl><span class=err>use \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>use UnexpectedValueException;
</span></span></span><span class=line><span class=cl><span class=err>use UnitEnum;
</span></span></span><span class=line><span class=cl><span class=err>use WeakMap;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $average
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $avg
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $contains
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $doesntContain
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $each
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $every
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $filter
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $first
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $flatMap
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $groupBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $keyBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $map
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $max
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $min
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $partition
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $percentage
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $reject
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $skipUntil
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $skipWhile
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $some
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sortBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sortByDesc
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sum
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $takeUntil
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $takeWhile
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $unique
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $unless
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $until
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $when
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>trait EnumeratesValues
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    use Conditionable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicates that the object&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected $escapeWhenCastingToString = false;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The methods that can be proxied.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array&lt;int, string&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static $proxies = [
</span></span></span><span class=line><span class=cl><span class=err>        &#39;average&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;avg&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;contains&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;doesntContain&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;each&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;every&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;filter&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;first&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;flatMap&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;groupBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;keyBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;map&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;max&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;min&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;partition&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;percentage&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;reject&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;skipUntil&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;skipWhile&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;some&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sortBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sortByDesc&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sum&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;takeUntil&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;takeWhile&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;unique&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;unless&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;until&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;when&#39;,
</span></span></span><span class=line><span class=cl><span class=err>    ];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection instance if the value isn&#39;t one already.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TMakeKey, TMakeValue&gt;|iterable&lt;TMakeKey, TMakeValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMakeKey, TMakeValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function make($items = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Wrap the given value in a collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;array-key, TWrapValue&gt;|TWrapValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, TWrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $value instanceof Enumerable
</span></span></span><span class=line><span class=cl><span class=err>            ? new static($value)
</span></span></span><span class=line><span class=cl><span class=err>            : new static(Arr::wrap($value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the underlying items from the given collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TUnwrapKey, TUnwrapValue&gt;|static&lt;TUnwrapKey, TUnwrapValue&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TUnwrapKey, TUnwrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function unwrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $value instanceof Enumerable ? $value-&gt;all() : $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance with no items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function empty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static([]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection by invoking the callback a given amount of times.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TTimesValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(int): TTimesValue)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TTimesValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function times($number, ?callable $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($number &lt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::range(1, $number)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;unless($callback == null)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;map($callback);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the average value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function avg($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $reduced = $this-&gt;reduce(static function (&amp;$reduce, $value) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_null($resolved = $callback($value))) {
</span></span></span><span class=line><span class=cl><span class=err>                $reduce[0] += $resolved;
</span></span></span><span class=line><span class=cl><span class=err>                $reduce[1]++;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $reduce;
</span></span></span><span class=line><span class=cl><span class=err>        }, [0, 0]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $reduced[1] ? $reduced[0] / $reduced[1] : null;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;avg&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function average($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;avg($callback);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;contains&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function some($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;contains(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the given arguments and terminate execution.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return never
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dd(...$args)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        dd($this-&gt;all(), ...$args);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dump(...$args)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        dump($this-&gt;all(), ...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function each(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($item, $key) === false) {
</span></span></span><span class=line><span class=cl><span class=err>                break;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(...mixed): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function eachSpread(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;each(function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if all items pass the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function every($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($this as $k =&gt; $v) {
</span></span></span><span class=line><span class=cl><span class=err>                if (! $callback($v, $k)) {
</span></span></span><span class=line><span class=cl><span class=err>                    return false;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return true;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;every($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstWhere($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;first($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a single key&#39;s value from the first matching item in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValueDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValueDefault|(\Closure(): TValueDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TValueDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function value($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($value = $this-&gt;firstWhere($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return data_get($value, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Ensure that every item in the collection is of the expected type.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TEnsureOfType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TEnsureOfType&gt;|array&lt;array-key, class-string&lt;TEnsureOfType&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TEnsureOfType&gt;
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function ensure($type)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $allowedTypes = is_array($type) ? $type : [$type];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;each(function ($item, $index) use ($allowedTypes) {
</span></span></span><span class=line><span class=cl><span class=err>            $itemType = get_debug_type($item);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($allowedTypes as $allowedType) {
</span></span></span><span class=line><span class=cl><span class=err>                if ($itemType === $allowedType || $item instanceof $allowedType) {
</span></span></span><span class=line><span class=cl><span class=err>                    return true;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            throw new UnexpectedValueException(
</span></span></span><span class=line><span class=cl><span class=err>                sprintf(&#34;Collection should only include [%s] items, but &#39;%s&#39; found at position %d.&#34;, implode(&#39;, &#39;, $allowedTypes), $itemType, $index)
</span></span></span><span class=line><span class=cl><span class=err>            );
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true TValue $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true TValue $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false null $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false null $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isNotEmpty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! $this-&gt;isEmpty();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapSpreadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(mixed...): TMapSpreadValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapSpreadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapSpread(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a grouping map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToGroupsKey, TMapToGroupsValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToGroupsKey, static&lt;int, TMapToGroupsValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToGroups(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $groups = $this-&gt;mapToDictionary($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $groups-&gt;map([$this, &#39;make&#39;]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map a collection and flatten the result by a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): (\Illuminate\Support\Collection&lt;TFlatMapKey, TFlatMapValue&gt;|array&lt;TFlatMapKey, TFlatMapValue&gt;)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TFlatMapKey, TFlatMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatMap(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map($callback)-&gt;collapse();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map the values into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TMapIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapIntoValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapInto($class)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_subclass_of($class, BackedEnum::class)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;map(fn ($value, $key) =&gt; $class::from($value));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value, $key) =&gt; new $class($value, $key));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the min value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function min($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value) =&gt; $callback($value))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;filter(fn ($value) =&gt; ! is_null($value))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;reduce(fn ($result, $value) =&gt; is_null($result) || $value &lt; $result ? $value : $result);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the max value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function max($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(fn ($value) =&gt; ! is_null($value))-&gt;reduce(function ($result, $item) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = $callback($item);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return is_null($result) || $value &gt; $result ? $value : $result;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * &#34;Paginate&#34; the collection by slicing it into a smaller collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $page
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $perPage
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forPage($page, $perPage)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $offset = max(0, ($page - 1) * $perPage);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice($offset, $perPage);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Partition the collection into two arrays using the given callback or key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|string|null  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int&lt;0, 1&gt;, static&lt;TKey, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function partition($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $passed = [];
</span></span></span><span class=line><span class=cl><span class=err>        $failed = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = func_num_args() === 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;valueRetriever($key)
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;operatorForWhere(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $passed[$key] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $failed[$key] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static([new static($passed), new static($failed)]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Calculate the percentage of items that pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $precision
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function percentage(callable $callback, int $precision = 2)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return round(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;filter($callback)-&gt;count() / $this-&gt;count() * 100,
</span></span></span><span class=line><span class=cl><span class=err>            $precision
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the sum of the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sum($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = is_null($callback)
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;identity()
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reduce(fn ($result, $item) =&gt; $result + $callback($item), 0);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;when($this-&gt;isEmpty(), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TWhenNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenNotEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;when($this-&gt;isNotEmpty(), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whenNotEmpty($callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessNotEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whenEmpty($callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function where($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNull($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereStrict($key, null);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotNull($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;!==&#39;, null);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereStrict($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;===&#39;, $value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereIn($key, $values, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = $this-&gt;getArrayableItems($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(fn ($item) =&gt; in_array(data_get($item, $key), $values, $strict));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInStrict($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereIn($key, $values, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereBetween($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;&gt;=&#39;, reset($values))-&gt;where($key, &#39;&lt;=&#39;, end($values));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is not between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotBetween($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(
</span></span></span><span class=line><span class=cl><span class=err>            fn ($item) =&gt; data_get($item, $key) &lt; reset($values) || data_get($item, $key) &gt; end($values)
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotIn($key, $values, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = $this-&gt;getArrayableItems($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(fn ($item) =&gt; in_array(data_get($item, $key), $values, $strict));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotInStrict($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereNotIn($key, $values, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the items, removing any items that don&#39;t match the given type(s).
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhereInstanceOf
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TWhereInstanceOf&gt;|array&lt;array-key, class-string&lt;TWhereInstanceOf&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TWhereInstanceOf&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInstanceOf($type)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(function ($value) use ($type) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($type)) {
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($type as $classType) {
</span></span></span><span class=line><span class=cl><span class=err>                    if ($value instanceof $classType) {
</span></span></span><span class=line><span class=cl><span class=err>                        return true;
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return false;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $value instanceof $type;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TPipeReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipe(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $callback($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TPipeIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeInto($class)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new $class($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection through a series of callable pipes and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;callable&gt;  $callbacks
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeThrough($callbacks)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($callbacks)-&gt;reduce(
</span></span></span><span class=line><span class=cl><span class=err>            fn ($carry, $callback) =&gt; $callback($carry),
</span></span></span><span class=line><span class=cl><span class=err>            $this,
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceInitial|TReduceReturnType, TValue, TKey): TReduceReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduce(callable $callback, $initial = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = $initial;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = $callback($result, $value, $key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to multiple aggregate values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceSpread(callable $callback, ...$initial)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = $initial;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = call_user_func_array($callback, array_merge($result, [$value, $key]));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($result)) {
</span></span></span><span class=line><span class=cl><span class=err>                throw new UnexpectedValueException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                    &#34;%s::reduceSpread expects reducer to return an array, but got a &#39;%s&#39; instead.&#34;,
</span></span></span><span class=line><span class=cl><span class=err>                    class_basename(static::class), gettype($result)
</span></span></span><span class=line><span class=cl><span class=err>                ));
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce an associative collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceWithKeysInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceWithKeysReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceWithKeysInitial|TReduceWithKeysReturnType, TValue, TKey): TReduceWithKeysReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceWithKeysInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceWithKeysReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceWithKeys(callable $callback, $initial = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reduce($callback, $initial);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection of all elements that do not pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|bool|TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reject($callback = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $useAsCallable = $this-&gt;useAsCallable($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(function ($value, $key) use ($callback, $useAsCallable) {
</span></span></span><span class=line><span class=cl><span class=err>            return $useAsCallable
</span></span></span><span class=line><span class=cl><span class=err>                ? ! $callback($value, $key)
</span></span></span><span class=line><span class=cl><span class=err>                : $value != $callback;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and then return it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function tap(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback($this);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $exists = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(function ($item, $key) use ($callback, $strict, &amp;$exists) {
</span></span></span><span class=line><span class=cl><span class=err>            if (in_array($id = $callback($item, $key), $exists, $strict)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $exists[] = $id;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function uniqueStrict($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;unique($key, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collect the values into a collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collect()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new Collection($this-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as a plain array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value) =&gt; $value instanceof Arrayable ? $value-&gt;toArray() : $value)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object into something JSON serializable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function jsonSerialize(): array
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_map(function ($value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($value instanceof JsonSerializable) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value-&gt;jsonSerialize();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($value instanceof Jsonable) {
</span></span></span><span class=line><span class=cl><span class=err>                return json_decode($value-&gt;toJson(), true);
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($value instanceof Arrayable) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value-&gt;toArray();
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $value;
</span></span></span><span class=line><span class=cl><span class=err>        }, $this-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as JSON.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return json_encode($this-&gt;jsonSerialize(), $options);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a CachingIterator instance.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $flags
</span></span></span><span class=line><span class=cl><span class=err>     * @return \CachingIterator
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCachingIterator($flags = CachingIterator::CALL_TOSTRING)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new CachingIterator($this-&gt;getIterator(), $flags);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the collection to its string representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __toString()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;escapeWhenCastingToString
</span></span></span><span class=line><span class=cl><span class=err>            ? e($this-&gt;toJson())
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;toJson();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicate that the model&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function escapeWhenCastingToString($escape = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;escapeWhenCastingToString = $escape;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add a method to the list of proxied methods.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function proxy($method)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$proxies[] = $method;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically access collection proxies.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Exception
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __get($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! in_array($key, static::$proxies)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new Exception(&#34;Property [{$key}] does not exist on this collection instance.&#34;);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new HigherOrderCollectionProxy($this, $key);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Results array of items from Collection or Arrayable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function getArrayableItems($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $items;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return match (true) {
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof WeakMap =&gt; throw new InvalidArgumentException(&#39;Collections can not be created using instances of WeakMap.&#39;),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Enumerable =&gt; $items-&gt;all(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Arrayable =&gt; $items-&gt;toArray(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof \Traversable =&gt; iterator_to_array($items),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Jsonable =&gt; json_decode($items-&gt;toJson(), true),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof JsonSerializable =&gt; (array) $items-&gt;jsonSerialize(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof UnitEnum =&gt; [$items],
</span></span></span><span class=line><span class=cl><span class=err>            default =&gt; (array) $items,
</span></span></span><span class=line><span class=cl><span class=err>        };
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an operator checker callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function operatorForWhere($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $key;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = true;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $operator = &#39;=&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 2) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = $operator;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $operator = &#39;=&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return function ($item) use ($key, $operator, $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $retrieved = data_get($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $strings = array_filter([$retrieved, $value], function ($value) {
</span></span></span><span class=line><span class=cl><span class=err>                return is_string($value) || (is_object($value) &amp;&amp; method_exists($value, &#39;__toString&#39;));
</span></span></span><span class=line><span class=cl><span class=err>            });
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (count($strings) &lt; 2 &amp;&amp; count(array_filter([$retrieved, $value], &#39;is_object&#39;)) == 1) {
</span></span></span><span class=line><span class=cl><span class=err>                return in_array($operator, [&#39;!=&#39;, &#39;&lt;&gt;&#39;, &#39;!==&#39;]);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            switch ($operator) {
</span></span></span><span class=line><span class=cl><span class=err>                default:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;=&#39;:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;==&#39;:  return $retrieved == $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;!=&#39;:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;&gt;&#39;:  return $retrieved != $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;&#39;:   return $retrieved &lt; $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&gt;&#39;:   return $retrieved &gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;=&#39;:  return $retrieved &lt;= $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&gt;=&#39;:  return $retrieved &gt;= $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;===&#39;: return $retrieved === $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;!==&#39;: return $retrieved !== $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;=&gt;&#39;: return $retrieved &lt;=&gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        };
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the given value is callable, but not a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function useAsCallable($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! is_string($value) &amp;&amp; is_callable($value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a value retrieving callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return callable
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function valueRetriever($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($item) =&gt; data_get($item, $value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function to check an item&#39;s equality.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure(mixed): bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function equality($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($item) =&gt; $item === $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function using another function, by negating its result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Closure  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function negate(Closure $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn (...$params) =&gt; ! $callback(...$params);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function that returns what&#39;s passed to it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure(TValue): TValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function identity()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($value) =&gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use ArrayIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\CanBeEscapedWhenCastToString;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Traits\EnumeratesValues;
</span></span></span><span class=line><span class=cl><span class=err>use stdClass;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @implements \ArrayAccess&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> * @implements \Illuminate\Support\Enumerable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>class Collection implements \ArrayAccess, CanBeEscapedWhenCastToString, Enumerable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @use \Illuminate\Support\Traits\EnumeratesValues&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    use EnumeratesValues, Traits\Macroable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The items contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected $items = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __construct($items = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $this-&gt;getArrayableItems($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection with the given range.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $from
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $to
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function range($from, $to, $step = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(range($from, $to, $step));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function all()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a lazy collection for the items in this collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\LazyCollection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function lazy()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new LazyCollection($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the median of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function median($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = (isset($key) ? $this-&gt;pluck($key) : $this)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;filter(fn ($item) =&gt; ! is_null($item))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;sort()-&gt;values();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $values-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $middle = (int) ($count / 2);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count % 2) {
</span></span></span><span class=line><span class=cl><span class=err>            return $values-&gt;get($middle);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return (new static([
</span></span></span><span class=line><span class=cl><span class=err>            $values-&gt;get($middle - 1), $values-&gt;get($middle),
</span></span></span><span class=line><span class=cl><span class=err>        ]))-&gt;average();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the mode of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;int, float|int&gt;|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mode($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;count() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection = isset($key) ? $this-&gt;pluck($key) : $this;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $counts = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection-&gt;each(fn ($value) =&gt; $counts[$value] = isset($counts[$value]) ? $counts[$value] + 1 : 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $sorted = $counts-&gt;sort();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $highestValue = $sorted-&gt;last();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $sorted-&gt;filter(fn ($value) =&gt; $value == $highestValue)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;sort()-&gt;keys()-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the collection of items into a single array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapse()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::collapse($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the collection of items into a single array while preserving its keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;mixed, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapseWithKeys()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $values) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($values instanceof Collection) {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $values-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif (! is_array($values)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $values;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace(...$results));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function contains($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $placeholder = new stdClass;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return $this-&gt;first($key, $placeholder) !== $placeholder;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return in_array($key, $this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;contains($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists, using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|TValue|array-key  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsStrict($key, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 2) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;contains(fn ($item) =&gt; data_get($item, $key) === $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return ! is_null($this-&gt;first($key));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return in_array($key, $this-&gt;items, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item is not contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function doesntContain($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! $this-&gt;contains(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join with the given lists, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TCrossJoinKey, TCrossJoinValue&gt;|iterable&lt;TCrossJoinKey, TCrossJoinValue&gt;  ...$lists
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, array&lt;int, TValue|TCrossJoinValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function crossJoin(...$lists)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::crossJoin(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items, ...array_map([$this, &#39;getArrayableItems&#39;], $lists)
</span></span></span><span class=line><span class=cl><span class=err>        ));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection that are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diff($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection that are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_udiff($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys and values are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssoc($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_assoc($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys and values are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssocUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_uassoc($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeys($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_key($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeysUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_ukey($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): TMapValue)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicates($callback = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;map($this-&gt;valueRetriever($callback));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $uniqueItems = $items-&gt;unique(null, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $compare = $this-&gt;duplicateComparator($strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $duplicates = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($uniqueItems-&gt;isNotEmpty() &amp;&amp; $compare($value, $uniqueItems-&gt;first())) {
</span></span></span><span class=line><span class=cl><span class=err>                $uniqueItems-&gt;shift();
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $duplicates[$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $duplicates;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items from the collection using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): TMapValue)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicatesStrict($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;duplicates($callback, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the comparison function to detect duplicates.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return callable(TValue, TValue): bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function duplicateComparator($strict)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($strict) {
</span></span></span><span class=line><span class=cl><span class=err>            return fn ($a, $b) =&gt; $a === $b;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($a, $b) =&gt; $a == $b;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items except for those with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function except($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        } elseif (! is_array($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::except($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a filter over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function filter(?callable $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(Arr::where($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_filter($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item from the collection passing the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function first(?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::first($this-&gt;items, $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a flattened array of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatten($depth = INF)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::flatten($this-&gt;items, $depth));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flip the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flip()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_flip($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Remove an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TKey&gt;|TKey  $keys
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forget($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;getArrayableItems($keys) as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;offsetUnset($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetDefault|(\Closure(): TGetDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function get($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (array_key_exists($key, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key or add it to collection if it does not exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetOrPutValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetOrPutValue|(\Closure(): TGetOrPutValue)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetOrPutValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getOrPut($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (array_key_exists($key, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;offsetSet($key, $value = value($value));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Group an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGroupKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TGroupKey)|array|string  $groupBy
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($groupBy is string ? array-key : ($groupBy is array ? array-key : TGroupKey)), static&lt;($preserveKeys is true ? TKey : int), TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function groupBy($groupBy, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! $this-&gt;useAsCallable($groupBy) &amp;&amp; is_array($groupBy)) {
</span></span></span><span class=line><span class=cl><span class=err>            $nextGroups = $groupBy;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $groupBy = array_shift($nextGroups);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groupBy = $this-&gt;valueRetriever($groupBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $groupKeys = $groupBy($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($groupKeys)) {
</span></span></span><span class=line><span class=cl><span class=err>                $groupKeys = [$groupKeys];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($groupKeys as $groupKey) {
</span></span></span><span class=line><span class=cl><span class=err>                $groupKey = match (true) {
</span></span></span><span class=line><span class=cl><span class=err>                    is_bool($groupKey) =&gt; (int) $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                    $groupKey instanceof \BackedEnum =&gt; $groupKey-&gt;value,
</span></span></span><span class=line><span class=cl><span class=err>                    $groupKey instanceof \Stringable =&gt; (string) $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                    default =&gt; $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                };
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (! array_key_exists($groupKey, $results)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $results[$groupKey] = new static;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $results[$groupKey]-&gt;offsetSet($preserveKeys ? $key : null, $value);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $result = new static($results);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! empty($nextGroups)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $result-&gt;map-&gt;groupBy($nextGroups, $preserveKeys);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TNewKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TNewKey)|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($keyBy is string ? array-key : ($keyBy is array ? array-key : TNewKey)), TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keyBy($keyBy)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keyBy = $this-&gt;valueRetriever($keyBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $resolvedKey = $keyBy($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (is_object($resolvedKey)) {
</span></span></span><span class=line><span class=cl><span class=err>                $resolvedKey = (string) $resolvedKey;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[$resolvedKey] = $item;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|array&lt;array-key, TKey&gt;  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function has($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($key) ? $key : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (! array_key_exists($value, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>                return false;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return true;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function hasAny($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($key) ? $key : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($this-&gt;has($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Concatenate values of a given key as a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function implode($value, $glue = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue ?? &#39;&#39;, $this-&gt;map($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $first = $this-&gt;first();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($first) || (is_object($first) &amp;&amp; ! $first instanceof Stringable)) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue ?? &#39;&#39;, $this-&gt;pluck($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode($value ?? &#39;&#39;, $this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersect($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_uintersect($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssoc($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_assoc($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssocUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_uassoc($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectByKeys($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_key(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items, $this-&gt;getArrayableItems($items)
</span></span></span><span class=line><span class=cl><span class=err>        ));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is empty or not.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true null $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true null $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false TValue $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false TValue $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isEmpty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return empty($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection contains a single item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsOneItem()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;count() === 1;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items from the collection using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function join($glue, $finalGlue = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($finalGlue === &#39;&#39;) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;implode($glue);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return &#39;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;last();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection = new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $finalItem = $collection-&gt;pop();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $collection-&gt;implode($glue).$finalGlue.$finalItem;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the keys of the collection items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keys()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_keys($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the last item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TLastDefault|(\Closure(): TLastDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function last(?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::last($this-&gt;items, $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|array&lt;array-key, string&gt;|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pluck($value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::pluck($this-&gt;items, $value, $key));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TMapValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function map(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::map($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a dictionary map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToDictionaryKey, TMapToDictionaryValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToDictionaryKey, array&lt;int, TMapToDictionaryValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToDictionary(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $dictionary = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $pair = $callback($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $key = key($pair);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $value = reset($pair);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! isset($dictionary[$key])) {
</span></span></span><span class=line><span class=cl><span class=err>                $dictionary[$key] = [];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $dictionary[$key][] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($dictionary);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapWithKeysKey, TMapWithKeysValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapWithKeys(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::mapWithKeys($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function merge($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_merge($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMergeRecursiveValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TMergeRecursiveValue&gt;|iterable&lt;TKey, TMergeRecursiveValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TValue|TMergeRecursiveValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mergeRecursive($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_merge_recursive($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Multiply the items in the collection by the multiplier.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $multiplier
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function multiply(int $multiplier)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $new = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt; $multiplier; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $new-&gt;push(...$this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $new;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection by using this collection for keys and another for its values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCombineValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TCombineValue&gt;|iterable&lt;array-key, TCombineValue&gt;  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TCombineValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function combine($values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_combine($this-&gt;all(), $this-&gt;getArrayableItems($values)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Union the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function union($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;items + $this-&gt;getArrayableItems($items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection consisting of every n-th element.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function nth($step, $offset = 0)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $new = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = 0;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;slice($offset)-&gt;items as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($position % $step === 0) {
</span></span></span><span class=line><span class=cl><span class=err>                $new[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $position++;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($new);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string|null  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function only($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($keys) ? $keys : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::only($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Select specific values from the items within the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string|null  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function select($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($keys) ? $keys : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::select($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove the last N items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pop($count = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_pop($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collectionCount = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (range(1, min($count, $collectionCount)) as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            array_push($results, array_pop($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push an item onto the beginning of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function prepend($value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = Arr::prepend($this-&gt;items, ...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push one or more items onto the end of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  ...$values
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function push(...$values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($values as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Prepend one or more items to the beginning of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  ...$values
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unshift(...$values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        array_unshift($this-&gt;items, ...$values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push all of the given items onto the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TConcatKey, TConcatValue&gt;  $source
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey|TConcatKey, TValue|TConcatValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function concat($source)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = new static($this);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($source as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $result-&gt;push($item);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove an item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPullDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPullDefault|(\Closure(): TPullDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TPullDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pull($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::pull($this-&gt;items, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Put an item in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function put($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;offsetSet($key, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of items randomly from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(self&lt;TKey, TValue&gt;): int)|int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function random($number = null, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return Arr::random($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_callable($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(Arr::random($this-&gt;items, $number($this), $preserveKeys));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::random($this-&gt;items, $number, $preserveKeys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replace($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replaceRecursive($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace_recursive($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reverse items order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reverse()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_reverse($this-&gt;items, true));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Search the collection for a given value and return the corresponding key if successful.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TKey|false
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function search($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! $this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_search($value, $this-&gt;items, $strict);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($value($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return $key;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item before the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function before($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $key = $this-&gt;search($value, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($key === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = ($keys = $this-&gt;keys())-&gt;search($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($position === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;get($keys-&gt;get($position - 1));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item after the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function after($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $key = $this-&gt;search($value, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($key === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = ($keys = $this-&gt;keys())-&gt;search($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($position === $keys-&gt;count() - 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;get($keys-&gt;get($position + 1));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove the first N items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shift($count = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($count &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new InvalidArgumentException(&#39;Number of shifted items may not be less than zero.&#39;);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_shift($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collectionCount = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (range(1, min($count, $collectionCount)) as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            array_push($results, array_shift($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shuffle()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::shuffle($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create chunks representing a &#34;sliding window&#34; view of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sliding($size = 2, $step = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $chunks = floor(($this-&gt;count() - $size) / $step) + 1;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::times($chunks, fn ($number) =&gt; $this-&gt;slice(($number - 1) * $step, $size));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip the first {$count} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skip($count)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice($count);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipUntil($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;skipUntil($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipWhile($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;skipWhile($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Slice the underlying collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function slice($offset, $length = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_slice($this-&gt;items, $offset, $length, true));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function split($numberOfGroups)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groups = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groupSize = floor($this-&gt;count() / $numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $remain = $this-&gt;count() % $numberOfGroups;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $start = 0;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt; $numberOfGroups; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $size = $groupSize;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if ($i &lt; $remain) {
</span></span></span><span class=line><span class=cl><span class=err>                $size++;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if ($size) {
</span></span></span><span class=line><span class=cl><span class=err>                $groups-&gt;push(new static(array_slice($this-&gt;items, $start, $size)));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $start += $size;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $groups;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups, and fill the first groups completely.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splitIn($numberOfGroups)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;chunk((int) ceil($this-&gt;count() / $numberOfGroups));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection, but only if exactly one item exists. Otherwise, throw an exception.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\MultipleItemsFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sole($key = null, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $filter = func_num_args() &gt; 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;operatorForWhere(...func_get_args())
</span></span></span><span class=line><span class=cl><span class=err>            : $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;unless($filter == null)-&gt;filter($filter);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $items-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new ItemNotFoundException;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count &gt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new MultipleItemsFoundException($count);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $items-&gt;first();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection but throw an exception if no matching items exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstOrFail($key = null, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $filter = func_num_args() &gt; 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;operatorForWhere(...func_get_args())
</span></span></span><span class=line><span class=cl><span class=err>            : $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $placeholder = new stdClass();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $item = $this-&gt;first($filter, $placeholder);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($item === $placeholder) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new ItemNotFoundException;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $item;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks of the given size.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunk($size)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($size &lt;= 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $chunks = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (array_chunk($this-&gt;items, $size, true) as $chunk) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunks[] = new static($chunk);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($chunks);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey, static&lt;int, TValue&gt;): bool  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunkWhile(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;lazy()-&gt;chunkWhile($callback)-&gt;mapInto(static::class)
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort through each item with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TValue): int)|null|int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sort($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback &amp;&amp; is_callable($callback)
</span></span></span><span class=line><span class=cl><span class=err>            ? uasort($items, $callback)
</span></span></span><span class=line><span class=cl><span class=err>            : asort($items, $callback ?? SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort items in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortDesc($options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        arsort($items, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortBy($callback, $options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($callback) &amp;&amp; ! is_callable($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;sortByMany($callback, $options);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        // First we will loop through the items and get the comparator from a callback
</span></span></span><span class=line><span class=cl><span class=err>        // function which we were given. Then, we will sort the returned values and
</span></span></span><span class=line><span class=cl><span class=err>        // grab all the corresponding values for the sorted keys from this array.
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $callback($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $descending ? arsort($results, $options)
</span></span></span><span class=line><span class=cl><span class=err>            : asort($results, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        // Once we have sorted all of the keys in the array, we will loop through them
</span></span></span><span class=line><span class=cl><span class=err>        // and grab the corresponding model so we can set the underlying items list
</span></span></span><span class=line><span class=cl><span class=err>        // to the sorted version. Then we&#39;ll just return the collection instance.
</span></span></span><span class=line><span class=cl><span class=err>        foreach (array_keys($results) as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using multiple comparisons.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;  $comparisons
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function sortByMany(array $comparisons = [], int $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        uasort($items, function ($a, $b) use ($comparisons, $options) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($comparisons as $comparison) {
</span></span></span><span class=line><span class=cl><span class=err>                $comparison = Arr::wrap($comparison);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $prop = $comparison[0];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $ascending = Arr::get($comparison, 1, true) === true ||
</span></span></span><span class=line><span class=cl><span class=err>                    Arr::get($comparison, 1, true) === &#39;asc&#39;;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (! is_string($prop) &amp;&amp; is_callable($prop)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result = $prop($a, $b);
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    $values = [data_get($a, $prop), data_get($b, $prop)];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    if (! $ascending) {
</span></span></span><span class=line><span class=cl><span class=err>                        $values = array_reverse($values);
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    if (($options &amp; SORT_FLAG_CASE) === SORT_FLAG_CASE) {
</span></span></span><span class=line><span class=cl><span class=err>                        if (($options &amp; SORT_NATURAL) === SORT_NATURAL) {
</span></span></span><span class=line><span class=cl><span class=err>                            $result = strnatcasecmp($values[0], $values[1]);
</span></span></span><span class=line><span class=cl><span class=err>                        } else {
</span></span></span><span class=line><span class=cl><span class=err>                            $result = strcasecmp($values[0], $values[1]);
</span></span></span><span class=line><span class=cl><span class=err>                        }
</span></span></span><span class=line><span class=cl><span class=err>                    } else {
</span></span></span><span class=line><span class=cl><span class=err>                        $result = match ($options) {
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_NUMERIC =&gt; intval($values[0]) &lt;=&gt; intval($values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_STRING =&gt; strcmp($values[0], $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_NATURAL =&gt; strnatcmp((string) $values[0], (string) $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_LOCALE_STRING =&gt; strcoll($values[0], $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            default =&gt; $values[0] &lt;=&gt; $values[1],
</span></span></span><span class=line><span class=cl><span class=err>                        };
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if ($result === 0) {
</span></span></span><span class=line><span class=cl><span class=err>                    continue;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return $result;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection in descending order using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortByDesc($callback, $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($callback) &amp;&amp; ! is_callable($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($callback as $index =&gt; $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $comparison = Arr::wrap($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $comparison[1] = &#39;desc&#39;;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $callback[$index] = $comparison;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;sortBy($callback, $options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeys($options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $descending ? krsort($items, $options) : ksort($items, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysDesc($options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;sortKeys($options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysUsing(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        uksort($items, $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Splice a portion of the underlying collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, TValue&gt;  $replacement
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splice($offset, $length = null, $replacement = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(array_splice($this-&gt;items, $offset));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_splice($this-&gt;items, $offset, $length, $this-&gt;getArrayableItems($replacement)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function take($limit)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($limit &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;slice($limit, abs($limit));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice(0, $limit);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeUntil($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;takeUntil($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeWhile($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;takeWhile($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Transform each item in the collection using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function transform(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $this-&gt;map($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional associative array with dots.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dot()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::dot($this-&gt;all()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function undot()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::undot($this-&gt;all()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key) &amp;&amp; $strict === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(array_unique($this-&gt;items, SORT_REGULAR));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $exists = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(function ($item, $key) use ($callback, $strict, &amp;$exists) {
</span></span></span><span class=line><span class=cl><span class=err>            if (in_array($id = $callback($item, $key), $exists, $strict)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $exists[] = $id;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reset the keys on the underlying array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function values()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_values($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Zip the collection together with one or more arrays.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * e.g. new Collection([1, 2, 3])-&gt;zip([4, 5, 6]);
</span></span></span><span class=line><span class=cl><span class=err>     *      =&gt; [[1, 4], [2, 5], [3, 6]]
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TZipValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TZipValue&gt;|iterable&lt;array-key, TZipValue&gt;  ...$items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue|TZipValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function zip($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $arrayableItems = array_map(fn ($items) =&gt; $this-&gt;getArrayableItems($items), func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $params = array_merge([fn () =&gt; new static(func_get_args()), $this-&gt;items], $arrayableItems);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_map(...$params));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pad collection to the specified length with a value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPadValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue|TPadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pad($size, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_pad($this-&gt;items, $size, $value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an iterator for the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \ArrayIterator&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getIterator(): \Traversable
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new ArrayIterator($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return int
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function count(): int
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return count($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): array-key)|string|null  $countBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function countBy($countBy = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;countBy($countBy)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add an item to the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $item
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function add($item)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a base Support collection instance from this collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toBase()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new self($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists at an offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetExists($key): bool
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return isset($this-&gt;items[$key]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetGet($key): mixed
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Set the item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetSet($key, $value): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Unset the item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetUnset($key): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        unset($this-&gt;items[$key]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>$start = microtime(true);
</span></span></span><span class=line><span class=cl><span class=err>$product = [];
</span></span></span><span class=line><span class=cl><span class=err>for ($k = 0; $k &lt;= 1000; $k++) {
</span></span></span><span class=line><span class=cl><span class=err>    $options = [];
</span></span></span><span class=line><span class=cl><span class=err>    for ($j = 0; $j &lt;= 10; $j++) {
</span></span></span><span class=line><span class=cl><span class=err>        $optionItems = [];
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt;= 100; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $optionItems[] = new Collection(array(
</span></span></span><span class=line><span class=cl><span class=err>                &#39;title&#39; =&gt; &#39;OptionItem&#39; . $i,
</span></span></span><span class=line><span class=cl><span class=err>                &#39;description&#39; =&gt; &#39;OptionItem &#39; . $i . &#39; Description&#39;,
</span></span></span><span class=line><span class=cl><span class=err>                &#39;price&#39; =&gt; random_int(1000, 10000)
</span></span></span><span class=line><span class=cl><span class=err>            ));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $options[] = new Collection(array(
</span></span></span><span class=line><span class=cl><span class=err>            &#39;title&#39; =&gt; &#39;Option&#39; . $j,
</span></span></span><span class=line><span class=cl><span class=err>            &#39;description&#39; =&gt; &#39;Option &#39; . $j . &#39; Description&#39;,
</span></span></span><span class=line><span class=cl><span class=err>            &#39;price&#39; =&gt; random_int(1000, 10000),
</span></span></span><span class=line><span class=cl><span class=err>            &#39;items&#39; =&gt; $optionItems
</span></span></span><span class=line><span class=cl><span class=err>        ));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>    $product[] = new Collection(array(
</span></span></span><span class=line><span class=cl><span class=err>        &#39;title&#39; =&gt; &#39;Product&#39; . $k,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;description&#39; =&gt; &#39;Product &#39; . $k . &#39; Description&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;price&#39; =&gt; random_int(1000, 10000),
</span></span></span><span class=line><span class=cl><span class=err>        &#39;currency&#39; =&gt; &#39;USD&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;category&#39; =&gt; &#39;Category&#39; . $k,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;brand&#39; =&gt; &#39;Brand&#39; . $k,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;options&#39; =&gt; $options
</span></span></span><span class=line><span class=cl><span class=err>    ));
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>$end = microtime(true);
</span></span></span><span class=line><span class=cl><span class=err>echo &#39;Memory Peak Usage: &#39; . (memory_get_peak_usage(true) / 1024 / 1024) . &#39; MB&#39; . &#39;&lt;br&gt;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>echo &#39;Execution Time: &#39; . round($end - $start, 2) . &#39; seconds&#39; . &#39;&lt;br&gt;&#39;;
</span></span></span></code></pre></div><h3 id=collection--class-based-collection class=headerLink><a href=#collection--class-based-collection class=header-mark></a>Collection + Class Based Collection</h3><div class="code-block highlight is-closed show-line-numbers tw-group tw-my-2"><div class="code-block-title
tw-flex
tw-flex-row
tw-justify-between
tw-w-full tw-bg-bgColor-secondary"><button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-rotate-90
tw-transition-[transform]
tw-duration-500
tw-ease-in-out
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 320 512"><path d="M285.476 272.971 91.132 467.314c-9.373 9.373-24.569 9.373-33.941.0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941.0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"/></svg></button><div class="code-block-title-bar tw-w-full"><p class="tw-select-none !tw-my-1">PHP</p></div><div class=tw-flex><button class="line-number-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.show-line-numbers]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle line numbers"><svg class="icon" viewBox="0 0 512 512"><path d="M61.77 401l17.5-20.15a19.92 19.92.0 005.07-14.19v-3.31C84.34 356 80.5 352 73 352H16a8 8 0 00-8 8v16a8 8 0 008 8h22.83a157.41 157.41.0 00-11 12.31l-5.61 7c-4 5.07-5.25 10.13-2.8 14.88l1.05 1.93c3 5.76 6.29 7.88 12.25 7.88h4.73c10.33.0 15.94 2.44 15.94 9.09.0 4.72-4.2 8.22-14.36 8.22a41.54 41.54.0 01-15.47-3.12c-6.49-3.88-11.74-3.5-15.6 3.12l-5.59 9.31c-3.72 6.13-3.19 11.72 2.63 15.94 7.71 4.69 20.38 9.44 37 9.44 34.16.0 48.5-22.75 48.5-44.12-.03-14.38-9.12-29.76-28.73-34.88zM496 224H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zm0-160H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16V80a16 16 0 00-16-16zm0 320H176a16 16 0 00-16 16v32a16 16 0 0016 16h320a16 16 0 0016-16v-32a16 16 0 00-16-16zM16 160h64a8 8 0 008-8v-16a8 8 0 00-8-8H64V40a8 8 0 00-8-8H32a8 8 0 00-7.14 4.42l-8 16A8 8 0 0024 64h8v64H16a8 8 0 00-8 8v16a8 8 0 008 8zm-3.91 160H80a8 8 0 008-8v-16a8 8 0 00-8-8H41.32c3.29-10.29 48.34-18.68 48.34-56.44.0-29.06-25-39.56-44.47-39.56-21.36.0-33.8 10-40.46 18.75-4.37 5.59-3 10.84 2.8 15.37l8.58 6.88c5.61 4.56 11 2.47 16.12-2.44a13.44 13.44.0 019.46-3.84c3.33.0 9.28 1.56 9.28 8.75C51 248.19.0 257.31.0 304.59v4C0 316 5.08 320 12.09 320z"/></svg></button>
<button class="wrap-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
group-[.is-wrap]:tw-text-fgColor-link
print:!tw-hidden" title="Toggle code wrap"><svg class="icon" viewBox="0 0 448 512"><path d="M16 132h416c8.837.0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163.0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837.0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837.0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"/></svg></button>
<button class="copy-code-button
tw-select-none
tw-mx-2
tw-hidden
group-[.is-open]:tw-block
hover:tw-text-fgColor-link
print:!tw-hidden" title="Copy code">
<span class="copy-icon tw-block"><svg class="icon" viewBox="0 0 448 512"><path d="M433.941 65.941l-51.882-51.882A48 48 0 00348.118.0H176c-26.51.0-48 21.49-48 48v48H48c-26.51.0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51.0 48-21.49 48-48v-48h80c26.51.0 48-21.49 48-48V99.882a48 48 0 00-14.059-33.941zM266 464H54a6 6 0 01-6-6V150a6 6 0 016-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 01-6 6zm128-96H182a6 6 0 01-6-6V54a6 6 0 016-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 01-6 6zm6-256h-64V48h9.632c1.591.0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 011.757 4.243V112z"/></svg></span>
<span class="check-icon tw-hidden"><svg class="icon" viewBox="0 0 512 512"><path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206.0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204.0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204.0l36.203 36.204c9.997 9.997 9.997 26.206.0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/></svg></span>
</button>
<button class="tw-select-none
tw-mx-2
tw-block
group-[.is-open]:tw-hidden
print:!tw-hidden" disabled aria-hidden=true><svg class="icon" viewBox="0 0 512 512"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8.0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"/></svg></button></div></div><pre style=counter-reset:codeblock class="tw-block tw-m-0 tw-p-0"><code id=codeblock-id-5 class="chroma
!tw-block
tw-p-0
tw-m-0
tw-transition-[max-height]
tw-duration-500
tw-ease-in-out
group-[.is-closed]:!tw-max-h-0
group-[.is-wrap]:tw-text-wrap
tw-overflow-y-hidden
tw-overflow-x-auto
tw-scrollbar-thin"><span class=line><span class=cl> <span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nx>Illuminate\Contracts\Support</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ini_set</span><span class=p>(</span><span class=s1>&#39;memory_limit&#39;</span><span class=p>,</span> <span class=s1>&#39;1024M&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>interface</span> <span class=nx>CanBeEscapedWhenCastToString</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=sd>/**
</span></span></span><span class=line><span class=cl><span class=sd>     * Indicate that the object&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=sd>     *
</span></span></span><span class=line><span class=cl><span class=sd>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=sd>     * @return $this
</span></span></span><span class=line><span class=cl><span class=sd>     */</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>escapeWhenCastingToString</span><span class=p>(</span><span class=nv>$escape</span> <span class=o>=</span> <span class=k>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=cp>?&gt;</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use Closure;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\HigherOrderWhenProxy;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>trait Conditionable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) truthy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenParameter
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (\Closure($this): TWhenParameter)|TWhenParameter|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TWhenParameter): TWhenReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TWhenParameter): TWhenReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function when($value = null, ?callable $callback = null, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = $value instanceof Closure ? $value($this) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new HigherOrderWhenProxy($this);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;condition($value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($value) {
</span></span></span><span class=line><span class=cl><span class=err>            return $callback($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        } elseif ($default) {
</span></span></span><span class=line><span class=cl><span class=err>            return $default($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) falsy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessParameter
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (\Closure($this): TUnlessParameter)|TUnlessParameter|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TUnlessParameter): TUnlessReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this, TUnlessParameter): TUnlessReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unless($value = null, ?callable $callback = null, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = $value instanceof Closure ? $value($this) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;negateConditionOnCapture();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return (new HigherOrderWhenProxy($this))-&gt;condition(! $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $value) {
</span></span></span><span class=line><span class=cl><span class=err>            return $callback($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        } elseif ($default) {
</span></span></span><span class=line><span class=cl><span class=err>            return $default($this, $value) ?? $this;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use ArgumentCountError;
</span></span></span><span class=line><span class=cl><span class=err>use \ArrayAccess;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Traits\Macroable;
</span></span></span><span class=line><span class=cl><span class=err>use InvalidArgumentException;
</span></span></span><span class=line><span class=cl><span class=err>use Random\Randomizer;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>class Arr
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    use Macroable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine whether the given value is array accessible.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function accessible($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return is_array($value) || $value instanceof ArrayAccess;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add an element to an array using &#34;dot&#34; notation if it doesn&#39;t exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|float  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function add($array, $key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null(static::get($array, $key))) {
</span></span></span><span class=line><span class=cl><span class=err>            static::set($array, $key, $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse an array of arrays into a single array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function collapse($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $values) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($values instanceof Collection) {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $values-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif (! is_array($values)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[] = $values;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_merge([], ...$results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join the given arrays, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  ...$arrays
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function crossJoin(...$arrays)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [[]];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($arrays as $index =&gt; $array) {
</span></span></span><span class=line><span class=cl><span class=err>            $append = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($results as $product) {
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>                    $product[$index] = $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    $append[] = $product;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results = $append;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Divide an array into two arrays. One with keys and the other with values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function divide($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return [array_keys($array), array_values($array)];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional associative array with dots.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $prepend
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function dot($array, $prepend = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($value) &amp;&amp; ! empty($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                $results = array_merge($results, static::dot($value, $prepend.$key.&#39;.&#39;));
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $results[$prepend.$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function undot($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            static::set($results, $key, $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all of the given array except for a specified array of keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string|int|float  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function except($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::forget($array, $keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the given key exists in the provided array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|float  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function exists($array, $key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($array instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array-&gt;has($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($array instanceof ArrayAccess) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array-&gt;offsetExists($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_float($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            $key = (string) $key;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_key_exists($key, $array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return the first element in an array passing a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TKey, TValue&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function first($array, ?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            if (empty($array)) {
</span></span></span><span class=line><span class=cl><span class=err>                return value($default);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>                return $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($value, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return the last element in an array passing a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function last($array, ?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            return empty($array) ? value($default) : end($array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::first(array_reverse($array, true), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function take($array, $limit)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($limit &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_slice($array, $limit, abs($limit));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_slice($array, 0, $limit);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional array into a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function flatten($array, $depth = INF)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $item = $item instanceof Collection ? $item-&gt;all() : $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($item)) {
</span></span></span><span class=line><span class=cl><span class=err>                $result[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $depth === 1
</span></span></span><span class=line><span class=cl><span class=err>                    ? array_values($item)
</span></span></span><span class=line><span class=cl><span class=err>                    : static::flatten($item, $depth - 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($values as $value) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Remove one or many array items from a given array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string|int|float  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function forget(&amp;$array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $original = &amp;$array;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($keys) === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            // if the exact key exists in the top-level, remove it
</span></span></span><span class=line><span class=cl><span class=err>            if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                unset($array[$key]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $parts = explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // clean up before each pass
</span></span></span><span class=line><span class=cl><span class=err>            $array = &amp;$original;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            while (count($parts) &gt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>                $part = array_shift($parts);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (isset($array[$part]) &amp;&amp; static::accessible($array[$part])) {
</span></span></span><span class=line><span class=cl><span class=err>                    $array = &amp;$array[$part];
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    continue 2;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            unset($array[array_shift($parts)]);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function get($array, $key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::accessible($array)) {
</span></span></span><span class=line><span class=cl><span class=err>            return value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! str_contains($key, &#39;.&#39;)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$key] ?? value($default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (explode(&#39;.&#39;, $key) as $segment) {
</span></span></span><span class=line><span class=cl><span class=err>            if (static::accessible($array) &amp;&amp; static::exists($array, $segment)) {
</span></span></span><span class=line><span class=cl><span class=err>                $array = $array[$segment];
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                return value($default);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Check if an item or items exist in an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function has($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $array || $keys === []) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $subKeyArray = $array;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (static::exists($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach (explode(&#39;.&#39;, $key) as $segment) {
</span></span></span><span class=line><span class=cl><span class=err>                if (static::accessible($subKeyArray) &amp;&amp; static::exists($subKeyArray, $segment)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $subKeyArray = $subKeyArray[$segment];
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    return false;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return true;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in an array using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \ArrayAccess|array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function hasAny($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (array) $keys;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! $array) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys === []) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            if (static::has($array, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determines if an array is associative.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * An array is &#34;associative&#34; if it doesn&#39;t have sequential numerical keys beginning with zero.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function isAssoc(array $array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! array_is_list($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determines if an array is a list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * An array is a &#34;list&#34; if all array keys are sequential integers starting from 0 with no gaps in between.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function isList($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_is_list($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function join($array, $glue, $finalGlue = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($finalGlue === &#39;&#39;) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue, $array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($array) === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return &#39;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (count($array) === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return end($array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $finalItem = array_pop($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode($glue, $array).$finalGlue.$finalItem;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function keyBy($array, $keyBy)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;keyBy($keyBy)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Prepend the key names of an associative array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $prependWith
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function prependKeysWith($array, $prependWith)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::mapWithKeys($array, fn ($item, $key) =&gt; [$prependWith.$key =&gt; $item]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a subset of the items from the given array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function only($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_intersect_key($array, array_flip((array) $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Select an array of values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function select($array, $keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = static::wrap($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::map($array, function ($item) use ($keys) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                if (Arr::accessible($item) &amp;&amp; Arr::exists($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[$key] = $item[$key];
</span></span></span><span class=line><span class=cl><span class=err>                } elseif (is_object($item) &amp;&amp; isset($item-&gt;{$key})) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result[$key] = $item-&gt;{$key};
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $result;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pluck an array of values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|int|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function pluck($array, $value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        [$value, $key] = static::explodePluckParameters($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $itemValue = data_get($item, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // If the key is &#34;null&#34;, we will just append the value to the array and keep
</span></span></span><span class=line><span class=cl><span class=err>            // looping. Otherwise we will key the array using the value of the key we
</span></span></span><span class=line><span class=cl><span class=err>            // received from the developer. Then we&#39;ll return the final array form.
</span></span></span><span class=line><span class=cl><span class=err>            if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[] = $itemValue;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $itemKey = data_get($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (is_object($itemKey) &amp;&amp; method_exists($itemKey, &#39;__toString&#39;)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $itemKey = (string) $itemKey;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $results[$itemKey] = $itemValue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Explode the &#34;value&#34; and &#34;key&#34; arguments passed to &#34;pluck&#34;.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static function explodePluckParameters($value, $key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = is_string($value) ? explode(&#39;.&#39;, $value) : $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $key = is_null($key) || is_array($key) ? $key : explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return [$value, $key];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items in the array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function map(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = array_keys($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        try {
</span></span></span><span class=line><span class=cl><span class=err>            $items = array_map($callback, $array, $keys);
</span></span></span><span class=line><span class=cl><span class=err>        } catch (ArgumentCountError) {
</span></span></span><span class=line><span class=cl><span class=err>            $items = array_map($callback, $array);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return array_combine($keys, $items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TKey, TValue&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mapWithKeys(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $assoc = $callback($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($assoc as $mapKey =&gt; $mapValue) {
</span></span></span><span class=line><span class=cl><span class=err>                $result[$mapKey] = $mapValue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TKey, array&gt;  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(mixed...): TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mapSpread(array $array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::map($array, function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push an item onto the beginning of an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function prepend($array, $value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() == 2) {
</span></span></span><span class=line><span class=cl><span class=err>            array_unshift($array, $value);
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $array = [$key =&gt; $value] + $array;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a value from the array, and remove it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function pull(&amp;$array, $key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $value = static::get($array, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        static::forget($array, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the array into a query string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function query($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return http_build_query($array, &#39;&#39;, &#39;&amp;&#39;, PHP_QUERY_RFC3986);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of random values from an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function random($array, $number = null, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $requested = is_null($number) ? 1 : $number;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = count($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($requested &gt; $count) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new InvalidArgumentException(
</span></span></span><span class=line><span class=cl><span class=err>                &#34;You requested {$requested} items, but there are only {$count} items available.&#34;
</span></span></span><span class=line><span class=cl><span class=err>            );
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (empty($array) || (! is_null($number) &amp;&amp; $number &lt;= 0)) {
</span></span></span><span class=line><span class=cl><span class=err>            return is_null($number) ? null : [];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = (new Randomizer)-&gt;pickArrayKeys($array, $requested);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array[$keys[0]];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($preserveKeys) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[$key] = $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($keys as $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $results[] = $array[$key];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $results;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Set an array item to a given value using &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * If no key is given to the method, the entire array will be replaced.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function set(&amp;$array, $key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $array = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = explode(&#39;.&#39;, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $i =&gt; $key) {
</span></span></span><span class=line><span class=cl><span class=err>            if (count($keys) === 1) {
</span></span></span><span class=line><span class=cl><span class=err>                break;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            unset($keys[$i]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            // If the key doesn&#39;t exist at this depth, we will just create an empty array
</span></span></span><span class=line><span class=cl><span class=err>            // to hold the next value, allowing us to create the arrays to hold final
</span></span></span><span class=line><span class=cl><span class=err>            // values at the correct depth. Then we&#39;ll keep digging into the array.
</span></span></span><span class=line><span class=cl><span class=err>            if (! isset($array[$key]) || ! is_array($array[$key])) {
</span></span></span><span class=line><span class=cl><span class=err>                $array[$key] = [];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $array = &amp;$array[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $array[array_shift($keys)] = $value;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the given array and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function shuffle($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return (new Randomizer)-&gt;shuffleArray($array);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the array using the given callback or &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sort($array, $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;sortBy($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the array in descending order using the given callback or &#34;dot&#34; notation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|array|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortDesc($array, $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($array)-&gt;sortByDesc($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively sort an array by keys and values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortRecursive($array, $options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($array as &amp;$value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                $value = static::sortRecursive($value, $options, $descending);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! array_is_list($array)) {
</span></span></span><span class=line><span class=cl><span class=err>            $descending
</span></span></span><span class=line><span class=cl><span class=err>                ? krsort($array, $options)
</span></span></span><span class=line><span class=cl><span class=err>                : ksort($array, $options);
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $descending
</span></span></span><span class=line><span class=cl><span class=err>                ? rsort($array, $options)
</span></span></span><span class=line><span class=cl><span class=err>                : sort($array, $options);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $array;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively sort an array by keys and values in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function sortRecursiveDesc($array, $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::sortRecursive($array, $options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Conditionally compile classes from an array into a CSS class list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function toCssClasses($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $classList = static::wrap($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $classes = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($classList as $class =&gt; $constraint) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_numeric($class)) {
</span></span></span><span class=line><span class=cl><span class=err>                $classes[] = $constraint;
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($constraint) {
</span></span></span><span class=line><span class=cl><span class=err>                $classes[] = $class;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode(&#39; &#39;, $classes);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Conditionally compile styles from an array into a style list.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function toCssStyles($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $styleList = static::wrap($array);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $styles = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($styleList as $class =&gt; $constraint) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_numeric($class)) {
</span></span></span><span class=line><span class=cl><span class=err>                $styles[] = Str::finish($constraint, &#39;;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($constraint) {
</span></span></span><span class=line><span class=cl><span class=err>                $styles[] = Str::finish($class, &#39;;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode(&#39; &#39;, $styles);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the array using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function where($array, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_filter($array, $callback, ARRAY_FILTER_USE_BOTH);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $array
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function whereNotNull($array)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return static::where($array, fn ($value) =&gt; ! is_null($value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * If the given value is not an array and not null, wrap it in one.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return [];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return is_array($value) ? $value : [$value];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Contracts\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>interface Jsonable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object to its JSON representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0);
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Contracts\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> * @template TValue
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>interface Arrayable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the instance as an array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray();
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use BadMethodCallException;
</span></span></span><span class=line><span class=cl><span class=err>use ReflectionClass;
</span></span></span><span class=line><span class=cl><span class=err>use ReflectionMethod;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>trait Macroable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The registered string macros.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static $macros = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Register a custom macro.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $name
</span></span></span><span class=line><span class=cl><span class=err>     * @param  object|callable  $macro
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param-closure-this static  $macro
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function macro($name, $macro)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$macros[$name] = $macro;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Mix another object into the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  object  $mixin
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $replace
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \ReflectionException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function mixin($mixin, $replace = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $methods = (new ReflectionClass($mixin))-&gt;getMethods(
</span></span></span><span class=line><span class=cl><span class=err>            ReflectionMethod::IS_PUBLIC | ReflectionMethod::IS_PROTECTED
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($methods as $method) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($replace || ! static::hasMacro($method-&gt;name)) {
</span></span></span><span class=line><span class=cl><span class=err>                static::macro($method-&gt;name, $method-&gt;invoke($mixin));
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Checks if macro is registered.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $name
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function hasMacro($name)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return isset(static::$macros[$name]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flush the existing macros.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function flushMacros()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$macros = [];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically handle calls to the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $parameters
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \BadMethodCallException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function __callStatic($method, $parameters)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::hasMacro($method)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new BadMethodCallException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                &#39;Method %s::%s does not exist.&#39;, static::class, $method
</span></span></span><span class=line><span class=cl><span class=err>            ));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $macro = static::$macros[$method];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($macro instanceof Closure) {
</span></span></span><span class=line><span class=cl><span class=err>            $macro = $macro-&gt;bindTo(null, static::class);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $macro(...$parameters);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically handle calls to the class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array  $parameters
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \BadMethodCallException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __call($method, $parameters)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! static::hasMacro($method)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new BadMethodCallException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                &#39;Method %s::%s does not exist.&#39;, static::class, $method
</span></span></span><span class=line><span class=cl><span class=err>            ));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $macro = static::$macros[$method];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($macro instanceof Closure) {
</span></span></span><span class=line><span class=cl><span class=err>            $macro = $macro-&gt;bindTo($this, static::class);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $macro(...$parameters);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use CachingIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Countable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Arrayable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Jsonable;
</span></span></span><span class=line><span class=cl><span class=err>use IteratorAggregate;
</span></span></span><span class=line><span class=cl><span class=err>use JsonSerializable;
</span></span></span><span class=line><span class=cl><span class=err>use \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @extends \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> * @extends \IteratorAggregate&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>interface Enumerable extends Arrayable, Countable, IteratorAggregate, Jsonable, JsonSerializable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection instance if the value isn&#39;t one already.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TMakeKey, TMakeValue&gt;|iterable&lt;TMakeKey, TMakeValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMakeKey, TMakeValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function make($items = []);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance by invoking the callback a given amount of times.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function times($number, ?callable $callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection with the given range.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $from
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $to
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function range($from, $to, $step = 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Wrap the given value in a collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;array-key, TWrapValue&gt;|TWrapValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, TWrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the underlying items from the given collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TUnwrapKey, TUnwrapValue&gt;|static&lt;TUnwrapKey, TUnwrapValue&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TUnwrapKey, TUnwrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function unwrap($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance with no items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function empty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items in the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function all();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;avg&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function average($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the median of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function median($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the mode of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;int, float|int&gt;|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mode($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the items into a single enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapse();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;contains&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function some($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists, using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|TValue|array-key  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsStrict($key, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the average value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function avg($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function contains($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item is not contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function doesntContain($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join with the given lists, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TCrossJoinKey, TCrossJoinValue&gt;|iterable&lt;TCrossJoinKey, TCrossJoinValue&gt;  ...$lists
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, array&lt;int, TValue|TCrossJoinValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function crossJoin(...$lists);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the collection and end the script.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return never
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dd(...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dump(...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items that are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diff($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items that are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys and values are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssoc($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys and values are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssocUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeys($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items whose keys are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeysUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicates($callback = null, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicatesStrict($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function each(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function eachSpread(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if all items pass the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function every($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items except for those with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function except($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a filter over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function filter(?callable $callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) truthy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenReturnType as null
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenReturnType)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function when($value, ?callable $callback = null, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TWhenNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenNotEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the given &#34;value&#34; is (or resolves to) falsy.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unless($value, callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessNotEmpty(callable $callback, ?callable $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function where($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNull($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotNull($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereStrict($key, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereIn($key, $values, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInStrict($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereBetween($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is not between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotBetween($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotIn($key, $values, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotInStrict($key, $values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the items, removing any items that don&#39;t match the given type(s).
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhereInstanceOf
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TWhereInstanceOf&gt;|array&lt;array-key, class-string&lt;TWhereInstanceOf&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TWhereInstanceOf&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInstanceOf($type);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item from the enumerable passing the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue,TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function first(?callable $callback = null, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstWhere($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a flattened array of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatten($depth = INF);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flip the values with their keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flip();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetDefault|(\Closure(): TGetDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function get($key, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Group an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGroupKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TGroupKey)|array|string  $groupBy
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($groupBy is string ? array-key : ($groupBy is array ? array-key : TGroupKey)), static&lt;($preserveKeys is true ? TKey : int), TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function groupBy($groupBy, $preserveKeys = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TNewKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TNewKey)|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($keyBy is string ? array-key : ($keyBy is array ? array-key : TNewKey)), TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keyBy($keyBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|array&lt;array-key, TKey&gt;  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function has($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function hasAny($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Concatenate values of a given key as a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function implode($value, $glue = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersect($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssoc($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssocUsing($items, callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectByKeys($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is empty or not.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isEmpty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isNotEmpty();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection contains a single item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsOneItem();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items from the collection using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function join($glue, $finalGlue = &#39;&#39;);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the keys of the collection items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keys();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the last item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TLastDefault|(\Closure(): TLastDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function last(?callable $callback = null, $default = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TMapValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function map(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapSpread(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a dictionary map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToDictionaryKey, TMapToDictionaryValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToDictionaryKey, array&lt;int, TMapToDictionaryValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToDictionary(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a grouping map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToGroupsKey, TMapToGroupsValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToGroupsKey, static&lt;int, TMapToGroupsValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToGroups(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapWithKeysKey, TMapWithKeysValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapWithKeys(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map a collection and flatten the result by a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): (\Illuminate\Support\Collection&lt;TFlatMapKey, TFlatMapValue&gt;|array&lt;TFlatMapKey, TFlatMapValue&gt;)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TFlatMapKey, TFlatMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatMap(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map the values into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TMapIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapIntoValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapInto($class);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function merge($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMergeRecursiveValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TMergeRecursiveValue&gt;|iterable&lt;TKey, TMergeRecursiveValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TValue|TMergeRecursiveValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mergeRecursive($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection by using this collection for keys and another for its values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCombineValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TCombineValue&gt;|iterable&lt;array-key, TCombineValue&gt;  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TCombineValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function combine($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Union the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function union($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the min value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function min($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the max value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function max($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection consisting of every n-th element.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function nth($step, $offset = 0);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function only($keys);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * &#34;Paginate&#34; the collection by slicing it into a smaller collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $page
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $perPage
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forPage($page, $perPage);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Partition the collection into two arrays using the given callback or key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int&lt;0, 1&gt;, static&lt;TKey, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function partition($key, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push all of the given items onto the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TConcatKey, TConcatValue&gt;  $source
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey|TConcatKey, TValue|TConcatValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function concat($source);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of items randomly from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function random($number = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceInitial|TReduceReturnType, TValue, TKey): TReduceReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduce(callable $callback, $initial = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to multiple aggregate values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceSpread(callable $callback, ...$initial);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replace($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replaceRecursive($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reverse items order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reverse();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Search the collection for a given value and return the corresponding key if successful.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TKey|bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function search($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item before the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function before($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item after the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function after($value, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shuffle();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create chunks representing a &#34;sliding window&#34; view of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sliding($size = 2, $step = 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip the first {$count} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skip($count);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipUntil($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipWhile($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a slice of items from the enumerable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function slice($offset, $length = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function split($numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection, but only if exactly one item exists. Otherwise, throw an exception.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\MultipleItemsFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sole($key = null, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection but throw an exception if no matching items exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstOrFail($key = null, $operator = null, $value = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks of the given size.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunk($size);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey, static&lt;int, TValue&gt;): bool  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunkWhile(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups, and fill the first groups completely.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splitIn($numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort through each item with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TValue): int)|null|int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sort($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort items in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortDesc($options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortBy($callback, $options = SORT_REGULAR, $descending = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection in descending order using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortByDesc($callback, $options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeys($options = SORT_REGULAR, $descending = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysDesc($options = SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysUsing(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the sum of the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sum($callback = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function take($limit);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeUntil($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeWhile($value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and then return it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function tap(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the enumerable to the given callback and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TPipeReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipe(callable $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TPipeIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeInto($class);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection through a series of callable pipes and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;callable&gt;  $pipes
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeThrough($pipes);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pluck($value, $key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection of all elements that do not pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|bool|TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reject($callback = true);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function undot();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function uniqueStrict($key = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reset the keys on the underlying array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function values();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pad collection to the specified length with a value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPadValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue|TPadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pad($size, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values iterator.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Traversable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getIterator(): \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return int
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function count(): int;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): array-key)|string|null  $countBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function countBy($countBy = null);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Zip the collection together with one or more arrays.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * e.g. new Collection([1, 2, 3])-&gt;zip([4, 5, 6]);
</span></span></span><span class=line><span class=cl><span class=err>     *      =&gt; [[1, 4], [2, 5], [3, 6]]
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TZipValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TZipValue&gt;|iterable&lt;array-key, TZipValue&gt;  ...$items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue|TZipValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function zip($items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collect the values into a collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collect();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as a plain array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object into something JSON serializable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function jsonSerialize(): mixed;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as JSON.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a CachingIterator instance.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $flags
</span></span></span><span class=line><span class=cl><span class=err>     * @return \CachingIterator
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCachingIterator($flags = CachingIterator::CALL_TOSTRING);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the collection to its string representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __toString();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicate that the model&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function escapeWhenCastingToString($escape = true);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add a method to the list of proxied methods.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function proxy($method);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically access collection proxies.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Exception
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __get($key);
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support\Traits;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use BackedEnum;
</span></span></span><span class=line><span class=cl><span class=err>use CachingIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Exception;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Arrayable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\Jsonable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Arr;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Collection;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Enumerable;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\HigherOrderCollectionProxy;
</span></span></span><span class=line><span class=cl><span class=err>use InvalidArgumentException;
</span></span></span><span class=line><span class=cl><span class=err>use JsonSerializable;
</span></span></span><span class=line><span class=cl><span class=err>use \Traversable;
</span></span></span><span class=line><span class=cl><span class=err>use UnexpectedValueException;
</span></span></span><span class=line><span class=cl><span class=err>use UnitEnum;
</span></span></span><span class=line><span class=cl><span class=err>use WeakMap;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $average
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $avg
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $contains
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $doesntContain
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $each
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $every
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $filter
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $first
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $flatMap
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $groupBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $keyBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $map
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $max
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $min
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $partition
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $percentage
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $reject
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $skipUntil
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $skipWhile
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $some
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sortBy
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sortByDesc
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $sum
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $takeUntil
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $takeWhile
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $unique
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $unless
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $until
</span></span></span><span class=line><span class=cl><span class=err> * @property-read HigherOrderCollectionProxy&lt;TKey, TValue&gt; $when
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>trait EnumeratesValues
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    use Conditionable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicates that the object&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected $escapeWhenCastingToString = false;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The methods that can be proxied.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array&lt;int, string&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected static $proxies = [
</span></span></span><span class=line><span class=cl><span class=err>        &#39;average&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;avg&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;contains&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;doesntContain&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;each&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;every&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;filter&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;first&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;flatMap&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;groupBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;keyBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;map&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;max&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;min&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;partition&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;percentage&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;reject&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;skipUntil&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;skipWhile&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;some&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sortBy&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sortByDesc&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;sum&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;takeUntil&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;takeWhile&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;unique&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;unless&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;until&#39;,
</span></span></span><span class=line><span class=cl><span class=err>        &#39;when&#39;,
</span></span></span><span class=line><span class=cl><span class=err>    ];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection instance if the value isn&#39;t one already.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMakeValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TMakeKey, TMakeValue&gt;|iterable&lt;TMakeKey, TMakeValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMakeKey, TMakeValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function make($items = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Wrap the given value in a collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;array-key, TWrapValue&gt;|TWrapValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, TWrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function wrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $value instanceof Enumerable
</span></span></span><span class=line><span class=cl><span class=err>            ? new static($value)
</span></span></span><span class=line><span class=cl><span class=err>            : new static(Arr::wrap($value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the underlying items from the given collection if applicable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnwrapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;TUnwrapKey, TUnwrapValue&gt;|static&lt;TUnwrapKey, TUnwrapValue&gt;  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TUnwrapKey, TUnwrapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function unwrap($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $value instanceof Enumerable ? $value-&gt;all() : $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new instance with no items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function empty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static([]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection by invoking the callback a given amount of times.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TTimesValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(int): TTimesValue)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TTimesValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function times($number, ?callable $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($number &lt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::range(1, $number)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;unless($callback == null)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;map($callback);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the average value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function avg($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $reduced = $this-&gt;reduce(static function (&amp;$reduce, $value) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_null($resolved = $callback($value))) {
</span></span></span><span class=line><span class=cl><span class=err>                $reduce[0] += $resolved;
</span></span></span><span class=line><span class=cl><span class=err>                $reduce[1]++;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $reduce;
</span></span></span><span class=line><span class=cl><span class=err>        }, [0, 0]);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $reduced[1] ? $reduced[0] / $reduced[1] : null;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;avg&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): float|int)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function average($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;avg($callback);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Alias for the &#34;contains&#34; method.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function some($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;contains(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the given arguments and terminate execution.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return never
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dd(...$args)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        dd($this-&gt;all(), ...$args);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dump the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$args
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dump(...$args)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        dump($this-&gt;all(), ...$args);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function each(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($item, $key) === false) {
</span></span></span><span class=line><span class=cl><span class=err>                break;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Execute a callback over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(...mixed): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function eachSpread(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;each(function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if all items pass the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function every($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($this as $k =&gt; $v) {
</span></span></span><span class=line><span class=cl><span class=err>                if (! $callback($v, $k)) {
</span></span></span><span class=line><span class=cl><span class=err>                    return false;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return true;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;every($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstWhere($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;first($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a single key&#39;s value from the first matching item in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TValueDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValueDefault|(\Closure(): TValueDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TValueDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function value($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($value = $this-&gt;firstWhere($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return data_get($value, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Ensure that every item in the collection is of the expected type.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TEnsureOfType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TEnsureOfType&gt;|array&lt;array-key, class-string&lt;TEnsureOfType&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TEnsureOfType&gt;
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function ensure($type)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $allowedTypes = is_array($type) ? $type : [$type];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;each(function ($item, $index) use ($allowedTypes) {
</span></span></span><span class=line><span class=cl><span class=err>            $itemType = get_debug_type($item);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($allowedTypes as $allowedType) {
</span></span></span><span class=line><span class=cl><span class=err>                if ($itemType === $allowedType || $item instanceof $allowedType) {
</span></span></span><span class=line><span class=cl><span class=err>                    return true;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            throw new UnexpectedValueException(
</span></span></span><span class=line><span class=cl><span class=err>                sprintf(&#34;Collection should only include [%s] items, but &#39;%s&#39; found at position %d.&#34;, implode(&#39;, &#39;, $allowedTypes), $itemType, $index)
</span></span></span><span class=line><span class=cl><span class=err>            );
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true TValue $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true TValue $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false null $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false null $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isNotEmpty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! $this-&gt;isEmpty();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each nested chunk of items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapSpreadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(mixed...): TMapSpreadValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapSpreadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapSpread(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(function ($chunk, $key) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunk[] = $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $callback(...$chunk);
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a grouping map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToGroupsValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToGroupsKey, TMapToGroupsValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToGroupsKey, static&lt;int, TMapToGroupsValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToGroups(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $groups = $this-&gt;mapToDictionary($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $groups-&gt;map([$this, &#39;make&#39;]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map a collection and flatten the result by a single level.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFlatMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): (\Illuminate\Support\Collection&lt;TFlatMapKey, TFlatMapValue&gt;|array&lt;TFlatMapKey, TFlatMapValue&gt;)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TFlatMapKey, TFlatMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatMap(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map($callback)-&gt;collapse();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Map the values into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TMapIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapIntoValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapInto($class)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_subclass_of($class, BackedEnum::class)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;map(fn ($value, $key) =&gt; $class::from($value));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value, $key) =&gt; new $class($value, $key));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the min value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function min($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value) =&gt; $callback($value))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;filter(fn ($value) =&gt; ! is_null($value))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;reduce(fn ($result, $value) =&gt; is_null($result) || $value &lt; $result ? $value : $result);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the max value of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue):mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function max($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(fn ($value) =&gt; ! is_null($value))-&gt;reduce(function ($result, $item) use ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = $callback($item);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return is_null($result) || $value &gt; $result ? $value : $result;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * &#34;Paginate&#34; the collection by slicing it into a smaller collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $page
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $perPage
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forPage($page, $perPage)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $offset = max(0, ($page - 1) * $perPage);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice($offset, $perPage);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Partition the collection into two arrays using the given callback or key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|string|null  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int&lt;0, 1&gt;, static&lt;TKey, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function partition($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $passed = [];
</span></span></span><span class=line><span class=cl><span class=err>        $failed = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = func_num_args() === 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;valueRetriever($key)
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;operatorForWhere(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($callback($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $passed[$key] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $failed[$key] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static([new static($passed), new static($failed)]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Calculate the percentage of items that pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $precision
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function percentage(callable $callback, int $precision = 2)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return round(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;filter($callback)-&gt;count() / $this-&gt;count() * 100,
</span></span></span><span class=line><span class=cl><span class=err>            $precision
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the sum of the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): mixed)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sum($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = is_null($callback)
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;identity()
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reduce(fn ($result, $item) =&gt; $result + $callback($item), 0);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;when($this-&gt;isEmpty(), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback if the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TWhenNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TWhenNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TWhenNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whenNotEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;when($this-&gt;isNotEmpty(), $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whenNotEmpty($callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Apply the callback unless the collection is not empty.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TUnlessNotEmptyReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable($this): TUnlessNotEmptyReturnType)|null  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this|TUnlessNotEmptyReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unlessNotEmpty(callable $callback, ?callable $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whenEmpty($callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function where($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNull($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereStrict($key, null);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items where the value for the given key is not null.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotNull($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;!==&#39;, null);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereStrict($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;===&#39;, $value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereIn($key, $values, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = $this-&gt;getArrayableItems($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(fn ($item) =&gt; in_array(data_get($item, $key), $values, $strict));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInStrict($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereIn($key, $values, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereBetween($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;where($key, &#39;&gt;=&#39;, reset($values))-&gt;where($key, &#39;&lt;=&#39;, end($values));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items such that the value of the given key is not between the given values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotBetween($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(
</span></span></span><span class=line><span class=cl><span class=err>            fn ($item) =&gt; data_get($item, $key) &lt; reset($values) || data_get($item, $key) &gt; end($values)
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotIn($key, $values, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = $this-&gt;getArrayableItems($values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(fn ($item) =&gt; in_array(data_get($item, $key), $values, $strict));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter items by the given key value pair using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable|iterable  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereNotInStrict($key, $values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;whereNotIn($key, $values, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Filter the items, removing any items that don&#39;t match the given type(s).
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TWhereInstanceOf
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TWhereInstanceOf&gt;|array&lt;array-key, class-string&lt;TWhereInstanceOf&gt;&gt;  $type
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TWhereInstanceOf&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function whereInstanceOf($type)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(function ($value) use ($type) {
</span></span></span><span class=line><span class=cl><span class=err>            if (is_array($type)) {
</span></span></span><span class=line><span class=cl><span class=err>                foreach ($type as $classType) {
</span></span></span><span class=line><span class=cl><span class=err>                    if ($value instanceof $classType) {
</span></span></span><span class=line><span class=cl><span class=err>                        return true;
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return false;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $value instanceof $type;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): TPipeReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipe(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $callback($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection into a new class.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  class-string&lt;TPipeIntoValue&gt;  $class
</span></span></span><span class=line><span class=cl><span class=err>     * @return TPipeIntoValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeInto($class)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new $class($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection through a series of callable pipes and return the result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;callable&gt;  $callbacks
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pipeThrough($callbacks)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Collection::make($callbacks)-&gt;reduce(
</span></span></span><span class=line><span class=cl><span class=err>            fn ($carry, $callback) =&gt; $callback($carry),
</span></span></span><span class=line><span class=cl><span class=err>            $this,
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceInitial|TReduceReturnType, TValue, TKey): TReduceReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduce(callable $callback, $initial = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = $initial;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = $callback($result, $value, $key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce the collection to multiple aggregate values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  ...$initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return array
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \UnexpectedValueException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceSpread(callable $callback, ...$initial)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = $initial;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $result = call_user_func_array($callback, array_merge($result, [$value, $key]));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($result)) {
</span></span></span><span class=line><span class=cl><span class=err>                throw new UnexpectedValueException(sprintf(
</span></span></span><span class=line><span class=cl><span class=err>                    &#34;%s::reduceSpread expects reducer to return an array, but got a &#39;%s&#39; instead.&#34;,
</span></span></span><span class=line><span class=cl><span class=err>                    class_basename(static::class), gettype($result)
</span></span></span><span class=line><span class=cl><span class=err>                ));
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reduce an associative collection to a single value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceWithKeysInitial
</span></span></span><span class=line><span class=cl><span class=err>     * @template TReduceWithKeysReturnType
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TReduceWithKeysInitial|TReduceWithKeysReturnType, TValue, TKey): TReduceWithKeysReturnType  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TReduceWithKeysInitial  $initial
</span></span></span><span class=line><span class=cl><span class=err>     * @return TReduceWithKeysReturnType
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reduceWithKeys(callable $callback, $initial = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reduce($callback, $initial);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection of all elements that do not pass a given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|bool|TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reject($callback = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $useAsCallable = $this-&gt;useAsCallable($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;filter(function ($value, $key) use ($callback, $useAsCallable) {
</span></span></span><span class=line><span class=cl><span class=err>            return $useAsCallable
</span></span></span><span class=line><span class=cl><span class=err>                ? ! $callback($value, $key)
</span></span></span><span class=line><span class=cl><span class=err>                : $value != $callback;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pass the collection to the given callback and then return it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable($this): mixed  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function tap(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback($this);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $exists = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(function ($item, $key) use ($callback, $strict, &amp;$exists) {
</span></span></span><span class=line><span class=cl><span class=err>            if (in_array($id = $callback($item, $key), $exists, $strict)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $exists[] = $id;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function uniqueStrict($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;unique($key, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collect the values into a collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collect()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new Collection($this-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as a plain array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toArray()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;map(fn ($value) =&gt; $value instanceof Arrayable ? $value-&gt;toArray() : $value)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the object into something JSON serializable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function jsonSerialize(): array
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return array_map(function ($value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($value instanceof JsonSerializable) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value-&gt;jsonSerialize();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($value instanceof Jsonable) {
</span></span></span><span class=line><span class=cl><span class=err>                return json_decode($value-&gt;toJson(), true);
</span></span></span><span class=line><span class=cl><span class=err>            } elseif ($value instanceof Arrayable) {
</span></span></span><span class=line><span class=cl><span class=err>                return $value-&gt;toArray();
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return $value;
</span></span></span><span class=line><span class=cl><span class=err>        }, $this-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the collection of items as JSON.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toJson($options = 0)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return json_encode($this-&gt;jsonSerialize(), $options);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a CachingIterator instance.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $flags
</span></span></span><span class=line><span class=cl><span class=err>     * @return \CachingIterator
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCachingIterator($flags = CachingIterator::CALL_TOSTRING)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new CachingIterator($this-&gt;getIterator(), $flags);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert the collection to its string representation.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __toString()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;escapeWhenCastingToString
</span></span></span><span class=line><span class=cl><span class=err>            ? e($this-&gt;toJson())
</span></span></span><span class=line><span class=cl><span class=err>            : $this-&gt;toJson();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Indicate that the model&#39;s string representation should be escaped when __toString is invoked.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $escape
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function escapeWhenCastingToString($escape = true)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;escapeWhenCastingToString = $escape;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add a method to the list of proxied methods.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $method
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function proxy($method)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        static::$proxies[] = $method;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Dynamically access collection proxies.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return mixed
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Exception
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __get($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! in_array($key, static::$proxies)) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new Exception(&#34;Property [{$key}] does not exist on this collection instance.&#34;);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new HigherOrderCollectionProxy($this, $key);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Results array of items from Collection or Arrayable.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function getArrayableItems($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $items;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return match (true) {
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof WeakMap =&gt; throw new InvalidArgumentException(&#39;Collections can not be created using instances of WeakMap.&#39;),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Enumerable =&gt; $items-&gt;all(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Arrayable =&gt; $items-&gt;toArray(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof \Traversable =&gt; iterator_to_array($items),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof Jsonable =&gt; json_decode($items-&gt;toJson(), true),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof JsonSerializable =&gt; (array) $items-&gt;jsonSerialize(),
</span></span></span><span class=line><span class=cl><span class=err>            $items instanceof UnitEnum =&gt; [$items],
</span></span></span><span class=line><span class=cl><span class=err>            default =&gt; (array) $items,
</span></span></span><span class=line><span class=cl><span class=err>        };
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an operator checker callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function operatorForWhere($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $key;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = true;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $operator = &#39;=&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 2) {
</span></span></span><span class=line><span class=cl><span class=err>            $value = $operator;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $operator = &#39;=&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return function ($item) use ($key, $operator, $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $retrieved = data_get($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $strings = array_filter([$retrieved, $value], function ($value) {
</span></span></span><span class=line><span class=cl><span class=err>                return is_string($value) || (is_object($value) &amp;&amp; method_exists($value, &#39;__toString&#39;));
</span></span></span><span class=line><span class=cl><span class=err>            });
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (count($strings) &lt; 2 &amp;&amp; count(array_filter([$retrieved, $value], &#39;is_object&#39;)) == 1) {
</span></span></span><span class=line><span class=cl><span class=err>                return in_array($operator, [&#39;!=&#39;, &#39;&lt;&gt;&#39;, &#39;!==&#39;]);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            switch ($operator) {
</span></span></span><span class=line><span class=cl><span class=err>                default:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;=&#39;:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;==&#39;:  return $retrieved == $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;!=&#39;:
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;&gt;&#39;:  return $retrieved != $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;&#39;:   return $retrieved &lt; $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&gt;&#39;:   return $retrieved &gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;=&#39;:  return $retrieved &lt;= $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&gt;=&#39;:  return $retrieved &gt;= $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;===&#39;: return $retrieved === $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;!==&#39;: return $retrieved !== $value;
</span></span></span><span class=line><span class=cl><span class=err>                case &#39;&lt;=&gt;&#39;: return $retrieved &lt;=&gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        };
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the given value is callable, but not a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function useAsCallable($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! is_string($value) &amp;&amp; is_callable($value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a value retrieving callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable|string|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return callable
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function valueRetriever($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($item) =&gt; data_get($item, $value);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function to check an item&#39;s equality.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure(mixed): bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function equality($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($item) =&gt; $item === $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function using another function, by negating its result.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Closure  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function negate(Closure $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn (...$params) =&gt; ! $callback(...$params);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Make a function that returns what&#39;s passed to it.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Closure(TValue): TValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function identity()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($value) =&gt; $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>namespace Illuminate\Support;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>use ArrayIterator;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Contracts\Support\CanBeEscapedWhenCastToString;
</span></span></span><span class=line><span class=cl><span class=err>use Illuminate\Support\Traits\EnumeratesValues;
</span></span></span><span class=line><span class=cl><span class=err>use stdClass;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>/**
</span></span></span><span class=line><span class=cl><span class=err> * @template TKey of array-key
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @template-covariant TValue
</span></span></span><span class=line><span class=cl><span class=err> *
</span></span></span><span class=line><span class=cl><span class=err> * @implements \ArrayAccess&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> * @implements \Illuminate\Support\Enumerable&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err> */
</span></span></span><span class=line><span class=cl><span class=err>class Collection implements \ArrayAccess, CanBeEscapedWhenCastToString, Enumerable
</span></span></span><span class=line><span class=cl><span class=err>{
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @use \Illuminate\Support\Traits\EnumeratesValues&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    use EnumeratesValues, Traits\Macroable;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * The items contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @var array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected $items = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;|null  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __construct($items = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $this-&gt;getArrayableItems($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection with the given range.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $from
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $to
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public static function range($from, $to, $step = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(range($from, $to, $step));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function all()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a lazy collection for the items in this collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\LazyCollection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function lazy()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new LazyCollection($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the median of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return float|int|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function median($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $values = (isset($key) ? $this-&gt;pluck($key) : $this)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;filter(fn ($item) =&gt; ! is_null($item))
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;sort()-&gt;values();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $values-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $middle = (int) ($count / 2);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count % 2) {
</span></span></span><span class=line><span class=cl><span class=err>            return $values-&gt;get($middle);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return (new static([
</span></span></span><span class=line><span class=cl><span class=err>            $values-&gt;get($middle - 1), $values-&gt;get($middle),
</span></span></span><span class=line><span class=cl><span class=err>        ]))-&gt;average();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the mode of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|array&lt;array-key, string&gt;|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return array&lt;int, float|int&gt;|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mode($key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;count() === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection = isset($key) ? $this-&gt;pluck($key) : $this;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $counts = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection-&gt;each(fn ($value) =&gt; $counts[$value] = isset($counts[$value]) ? $counts[$value] + 1 : 1);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $sorted = $counts-&gt;sort();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $highestValue = $sorted-&gt;last();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $sorted-&gt;filter(fn ($value) =&gt; $value == $highestValue)
</span></span></span><span class=line><span class=cl><span class=err>            -&gt;sort()-&gt;keys()-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the collection of items into a single array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapse()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::collapse($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Collapse the collection of items into a single array while preserving its keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;mixed, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function collapseWithKeys()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $values) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($values instanceof Collection) {
</span></span></span><span class=line><span class=cl><span class=err>                $values = $values-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>            } elseif (! is_array($values)) {
</span></span></span><span class=line><span class=cl><span class=err>                continue;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $values;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace(...$results));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|TValue|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function contains($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>                $placeholder = new stdClass;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return $this-&gt;first($key, $placeholder) !== $placeholder;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            return in_array($key, $this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;contains($this-&gt;operatorForWhere(...func_get_args()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists, using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): bool)|TValue|array-key  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsStrict($key, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 2) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;contains(fn ($item) =&gt; data_get($item, $key) === $value);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            return ! is_null($this-&gt;first($key));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return in_array($key, $this-&gt;items, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item is not contained in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function doesntContain($key, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return ! $this-&gt;contains(...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Cross join with the given lists, returning all possible permutations.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinKey
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCrossJoinValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TCrossJoinKey, TCrossJoinValue&gt;|iterable&lt;TCrossJoinKey, TCrossJoinValue&gt;  ...$lists
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, array&lt;int, TValue|TCrossJoinValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function crossJoin(...$lists)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::crossJoin(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items, ...array_map([$this, &#39;getArrayableItems&#39;], $lists)
</span></span></span><span class=line><span class=cl><span class=err>        ));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection that are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diff($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection that are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_udiff($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys and values are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssoc($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_assoc($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys and values are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffAssocUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_uassoc($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys are not present in the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeys($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_key($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items in the collection whose keys are not present in the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function diffKeysUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_diff_ukey($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): TMapValue)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicates($callback = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;map($this-&gt;valueRetriever($callback));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $uniqueItems = $items-&gt;unique(null, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $compare = $this-&gt;duplicateComparator($strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $duplicates = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($uniqueItems-&gt;isNotEmpty() &amp;&amp; $compare($value, $uniqueItems-&gt;first())) {
</span></span></span><span class=line><span class=cl><span class=err>                $uniqueItems-&gt;shift();
</span></span></span><span class=line><span class=cl><span class=err>            } else {
</span></span></span><span class=line><span class=cl><span class=err>                $duplicates[$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $duplicates;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Retrieve duplicate items from the collection using strict comparison.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue): TMapValue)|string|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function duplicatesStrict($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;duplicates($callback, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the comparison function to detect duplicates.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return callable(TValue, TValue): bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function duplicateComparator($strict)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($strict) {
</span></span></span><span class=line><span class=cl><span class=err>            return fn ($a, $b) =&gt; $a === $b;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return fn ($a, $b) =&gt; $a == $b;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get all items except for those with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function except($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        } elseif (! is_array($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::except($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a filter over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function filter(?callable $callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($callback) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(Arr::where($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_filter($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item from the collection passing the given truth test.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TFirstDefault|(\Closure(): TFirstDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TFirstDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function first(?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::first($this-&gt;items, $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a flattened array of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $depth
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flatten($depth = INF)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::flatten($this-&gt;items, $depth));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flip the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function flip()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_flip($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Remove an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TKey&gt;|TKey  $keys
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function forget($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;getArrayableItems($keys) as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;offsetUnset($key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetDefault|(\Closure(): TGetDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function get($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (array_key_exists($key, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return value($default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item from the collection by key or add it to collection if it does not exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGetOrPutValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TGetOrPutValue|(\Closure(): TGetOrPutValue)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TGetOrPutValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getOrPut($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (array_key_exists($key, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;offsetSet($key, $value = value($value));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $value;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Group an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TGroupKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TGroupKey)|array|string  $groupBy
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($groupBy is string ? array-key : ($groupBy is array ? array-key : TGroupKey)), static&lt;($preserveKeys is true ? TKey : int), TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function groupBy($groupBy, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! $this-&gt;useAsCallable($groupBy) &amp;&amp; is_array($groupBy)) {
</span></span></span><span class=line><span class=cl><span class=err>            $nextGroups = $groupBy;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $groupBy = array_shift($nextGroups);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groupBy = $this-&gt;valueRetriever($groupBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $groupKeys = $groupBy($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! is_array($groupKeys)) {
</span></span></span><span class=line><span class=cl><span class=err>                $groupKeys = [$groupKeys];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($groupKeys as $groupKey) {
</span></span></span><span class=line><span class=cl><span class=err>                $groupKey = match (true) {
</span></span></span><span class=line><span class=cl><span class=err>                    is_bool($groupKey) =&gt; (int) $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                    $groupKey instanceof \BackedEnum =&gt; $groupKey-&gt;value,
</span></span></span><span class=line><span class=cl><span class=err>                    $groupKey instanceof \Stringable =&gt; (string) $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                    default =&gt; $groupKey,
</span></span></span><span class=line><span class=cl><span class=err>                };
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (! array_key_exists($groupKey, $results)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $results[$groupKey] = new static;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $results[$groupKey]-&gt;offsetSet($preserveKeys ? $key : null, $value);
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $result = new static($results);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (! empty($nextGroups)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $result-&gt;map-&gt;groupBy($nextGroups, $preserveKeys);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Key an associative array by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TNewKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): TNewKey)|array|string  $keyBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;($keyBy is string ? array-key : ($keyBy is array ? array-key : TNewKey)), TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keyBy($keyBy)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keyBy = $this-&gt;valueRetriever($keyBy);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $resolvedKey = $keyBy($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (is_object($resolvedKey)) {
</span></span></span><span class=line><span class=cl><span class=err>                $resolvedKey = (string) $resolvedKey;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $results[$resolvedKey] = $item;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|array&lt;array-key, TKey&gt;  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function has($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($key) ? $key : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if (! array_key_exists($value, $this-&gt;items)) {
</span></span></span><span class=line><span class=cl><span class=err>                return false;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return true;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if any of the keys exist in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function hasAny($key)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return false;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($key) ? $key : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($keys as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($this-&gt;has($value)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Concatenate values of a given key as a string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function implode($value, $glue = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue ?? &#39;&#39;, $this-&gt;map($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $first = $this-&gt;first();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($first) || (is_object($first) &amp;&amp; ! $first instanceof Stringable)) {
</span></span></span><span class=line><span class=cl><span class=err>            return implode($glue ?? &#39;&#39;, $this-&gt;pluck($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return implode($value ?? &#39;&#39;, $this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersect($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_uintersect($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssoc($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_assoc($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items with additional index check, using the callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TValue&gt;|iterable&lt;array-key, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TValue): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectAssocUsing($items, callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_uassoc($this-&gt;items, $this-&gt;getArrayableItems($items), $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Intersect the collection with the given items by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, mixed&gt;|iterable&lt;TKey, mixed&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function intersectByKeys($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_intersect_key(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items, $this-&gt;getArrayableItems($items)
</span></span></span><span class=line><span class=cl><span class=err>        ));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection is empty or not.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true null $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-true null $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false TValue $this-&gt;first()
</span></span></span><span class=line><span class=cl><span class=err>     * @phpstan-assert-if-false TValue $this-&gt;last()
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function isEmpty()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return empty($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if the collection contains a single item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function containsOneItem()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;count() === 1;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Join all items from the collection using a string. The final items can use a separate glue string.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $glue
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string  $finalGlue
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function join($glue, $finalGlue = &#39;&#39;)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($finalGlue === &#39;&#39;) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;implode($glue);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return &#39;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;last();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collection = new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $finalItem = $collection-&gt;pop();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $collection-&gt;implode($glue).$finalGlue.$finalItem;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the keys of the collection items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TKey&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function keys()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_keys($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the last item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|null  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TLastDefault|(\Closure(): TLastDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TLastDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function last(?callable $callback = null, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::last($this-&gt;items, $callback, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the values of a given key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|int|array&lt;array-key, string&gt;|null  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, mixed&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pluck($value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::pluck($this-&gt;items, $value, $key));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TMapValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TMapValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function map(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::map($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run a dictionary map over the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapToDictionaryValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapToDictionaryKey, TMapToDictionaryValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapToDictionaryKey, array&lt;int, TMapToDictionaryValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapToDictionary(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $dictionary = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $pair = $callback($item, $key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $key = key($pair);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $value = reset($pair);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if (! isset($dictionary[$key])) {
</span></span></span><span class=line><span class=cl><span class=err>                $dictionary[$key] = [];
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $dictionary[$key][] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($dictionary);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Run an associative map over each of the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * The callback should return an associative array with a single key/value pair.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMapWithKeysValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): array&lt;TMapWithKeysKey, TMapWithKeysValue&gt;  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TMapWithKeysKey, TMapWithKeysValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mapWithKeys(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::mapWithKeys($this-&gt;items, $callback));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function merge($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_merge($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively merge the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TMergeRecursiveValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TMergeRecursiveValue&gt;|iterable&lt;TKey, TMergeRecursiveValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey, TValue|TMergeRecursiveValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function mergeRecursive($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_merge_recursive($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Multiply the items in the collection by the multiplier.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $multiplier
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function multiply(int $multiplier)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $new = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt; $multiplier; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $new-&gt;push(...$this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $new;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a collection by using this collection for keys and another for its values.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TCombineValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TCombineValue&gt;|iterable&lt;array-key, TCombineValue&gt;  $values
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TValue, TCombineValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function combine($values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_combine($this-&gt;all(), $this-&gt;getArrayableItems($values)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Union the collection with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function union($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;items + $this-&gt;getArrayableItems($items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create a new collection consisting of every n-th element.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function nth($step, $offset = 0)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $new = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = 0;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;slice($offset)-&gt;items as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($position % $step === 0) {
</span></span></span><span class=line><span class=cl><span class=err>                $new[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $position++;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($new);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the items with the specified keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string|null  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function only($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($keys) ? $keys : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::only($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Select specific values from the items within the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Support\Enumerable&lt;array-key, TKey&gt;|array&lt;array-key, TKey&gt;|string|null  $keys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function select($keys)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($keys)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($keys instanceof Enumerable) {
</span></span></span><span class=line><span class=cl><span class=err>            $keys = $keys-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $keys = is_array($keys) ? $keys : func_get_args();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::select($this-&gt;items, $keys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove the last N items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pop($count = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_pop($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collectionCount = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (range(1, min($count, $collectionCount)) as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            array_push($results, array_pop($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push an item onto the beginning of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function prepend($value, $key = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = Arr::prepend($this-&gt;items, ...func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push one or more items onto the end of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  ...$values
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function push(...$values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($values as $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Prepend one or more items to the beginning of the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  ...$values
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unshift(...$values)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        array_unshift($this-&gt;items, ...$values);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Push all of the given items onto the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatKey of array-key
</span></span></span><span class=line><span class=cl><span class=err>     * @template TConcatValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  iterable&lt;TConcatKey, TConcatValue&gt;  $source
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;TKey|TConcatKey, TValue|TConcatValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function concat($source)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $result = new static($this);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($source as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            $result-&gt;push($item);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $result;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove an item from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPullDefault
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPullDefault|(\Closure(): TPullDefault)  $default
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|TPullDefault
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pull($key, $default = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return Arr::pull($this-&gt;items, $key, $default);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Put an item in the collection by key.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function put($key, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;offsetSet($key, $value);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get one or a specified number of items randomly from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(self&lt;TKey, TValue&gt;): int)|int|null  $number
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $preserveKeys
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function random($number = null, $preserveKeys = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return Arr::random($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if (is_callable($number)) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(Arr::random($this-&gt;items, $number($this), $preserveKeys));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::random($this-&gt;items, $number, $preserveKeys));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replace($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Recursively replace the collection items with the given items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;TKey, TValue&gt;|iterable&lt;TKey, TValue&gt;  $items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function replaceRecursive($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_replace_recursive($this-&gt;items, $this-&gt;getArrayableItems($items)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reverse items order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function reverse()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_reverse($this-&gt;items, true));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Search the collection for a given value and return the corresponding key if successful.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TKey|false
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function search($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (! $this-&gt;useAsCallable($value)) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_search($value, $this-&gt;items, $strict);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $item) {
</span></span></span><span class=line><span class=cl><span class=err>            if ($value($item, $key)) {
</span></span></span><span class=line><span class=cl><span class=err>                return $key;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return false;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item before the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function before($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $key = $this-&gt;search($value, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($key === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = ($keys = $this-&gt;keys())-&gt;search($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($position === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;get($keys-&gt;get($position - 1));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the item after the given item.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|(callable(TValue,TKey): bool)  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function after($value, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $key = $this-&gt;search($value, $strict);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($key === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $position = ($keys = $this-&gt;keys())-&gt;search($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($position === $keys-&gt;count() - 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;get($keys-&gt;get($position + 1));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get and remove the first N items from the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;|TValue|null
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \InvalidArgumentException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shift($count = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($count &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new InvalidArgumentException(&#39;Number of shifted items may not be less than zero.&#39;);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return null;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return array_shift($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $collectionCount = $this-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (range(1, min($count, $collectionCount)) as $item) {
</span></span></span><span class=line><span class=cl><span class=err>            array_push($results, array_shift($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Shuffle the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function shuffle()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::shuffle($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Create chunks representing a &#34;sliding window&#34; view of the items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $step
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sliding($size = 2, $step = 1)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $chunks = floor(($this-&gt;count() - $size) / $step) + 1;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return static::times($chunks, fn ($number) =&gt; $this-&gt;slice(($number - 1) * $step, $size));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip the first {$count} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $count
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skip($count)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice($count);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipUntil($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;skipUntil($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Skip items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function skipWhile($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;skipWhile($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Slice the underlying collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function slice($offset, $length = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_slice($this-&gt;items, $offset, $length, true));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function split($numberOfGroups)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($this-&gt;isEmpty()) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groups = new static;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $groupSize = floor($this-&gt;count() / $numberOfGroups);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $remain = $this-&gt;count() % $numberOfGroups;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $start = 0;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt; $numberOfGroups; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $size = $groupSize;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if ($i &lt; $remain) {
</span></span></span><span class=line><span class=cl><span class=err>                $size++;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            if ($size) {
</span></span></span><span class=line><span class=cl><span class=err>                $groups-&gt;push(new static(array_slice($this-&gt;items, $start, $size)));
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $start += $size;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $groups;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Split a collection into a certain number of groups, and fill the first groups completely.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $numberOfGroups
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splitIn($numberOfGroups)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;chunk((int) ceil($this-&gt;count() / $numberOfGroups));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection, but only if exactly one item exists. Otherwise, throw an exception.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\MultipleItemsFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sole($key = null, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $filter = func_num_args() &gt; 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;operatorForWhere(...func_get_args())
</span></span></span><span class=line><span class=cl><span class=err>            : $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;unless($filter == null)-&gt;filter($filter);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $count = $items-&gt;count();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count === 0) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new ItemNotFoundException;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($count &gt; 1) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new MultipleItemsFoundException($count);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $items-&gt;first();
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get the first item in the collection but throw an exception if no matching items exist.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): bool)|string  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $operator
</span></span></span><span class=line><span class=cl><span class=err>     * @param  mixed  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @throws \Illuminate\Support\ItemNotFoundException
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function firstOrFail($key = null, $operator = null, $value = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $filter = func_num_args() &gt; 1
</span></span></span><span class=line><span class=cl><span class=err>            ? $this-&gt;operatorForWhere(...func_get_args())
</span></span></span><span class=line><span class=cl><span class=err>            : $key;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $placeholder = new stdClass();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $item = $this-&gt;first($filter, $placeholder);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        if ($item === $placeholder) {
</span></span></span><span class=line><span class=cl><span class=err>            throw new ItemNotFoundException;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $item;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks of the given size.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunk($size)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($size &lt;= 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $chunks = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        foreach (array_chunk($this-&gt;items, $size, true) as $chunk) {
</span></span></span><span class=line><span class=cl><span class=err>            $chunks[] = new static($chunk);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($chunks);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Chunk the collection into chunks with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey, static&lt;int, TValue&gt;): bool  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function chunkWhile(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;lazy()-&gt;chunkWhile($callback)-&gt;mapInto(static::class)
</span></span></span><span class=line><span class=cl><span class=err>        );
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort through each item with a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TValue): int)|null|int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sort($callback = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback &amp;&amp; is_callable($callback)
</span></span></span><span class=line><span class=cl><span class=err>            ? uasort($items, $callback)
</span></span></span><span class=line><span class=cl><span class=err>            : asort($items, $callback ?? SORT_REGULAR);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort items in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortDesc($options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        arsort($items, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortBy($callback, $options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($callback) &amp;&amp; ! is_callable($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;sortByMany($callback, $options);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $results = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        // First we will loop through the items and get the comparator from a callback
</span></span></span><span class=line><span class=cl><span class=err>        // function which we were given. Then, we will sort the returned values and
</span></span></span><span class=line><span class=cl><span class=err>        // grab all the corresponding values for the sorted keys from this array.
</span></span></span><span class=line><span class=cl><span class=err>        foreach ($this-&gt;items as $key =&gt; $value) {
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $callback($value, $key);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $descending ? arsort($results, $options)
</span></span></span><span class=line><span class=cl><span class=err>            : asort($results, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        // Once we have sorted all of the keys in the array, we will loop through them
</span></span></span><span class=line><span class=cl><span class=err>        // and grab the corresponding model so we can set the underlying items list
</span></span></span><span class=line><span class=cl><span class=err>        // to the sorted version. Then we&#39;ll just return the collection instance.
</span></span></span><span class=line><span class=cl><span class=err>        foreach (array_keys($results) as $key) {
</span></span></span><span class=line><span class=cl><span class=err>            $results[$key] = $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($results);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection using multiple comparisons.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;  $comparisons
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    protected function sortByMany(array $comparisons = [], int $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        uasort($items, function ($a, $b) use ($comparisons, $options) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($comparisons as $comparison) {
</span></span></span><span class=line><span class=cl><span class=err>                $comparison = Arr::wrap($comparison);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $prop = $comparison[0];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $ascending = Arr::get($comparison, 1, true) === true ||
</span></span></span><span class=line><span class=cl><span class=err>                    Arr::get($comparison, 1, true) === &#39;asc&#39;;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if (! is_string($prop) &amp;&amp; is_callable($prop)) {
</span></span></span><span class=line><span class=cl><span class=err>                    $result = $prop($a, $b);
</span></span></span><span class=line><span class=cl><span class=err>                } else {
</span></span></span><span class=line><span class=cl><span class=err>                    $values = [data_get($a, $prop), data_get($b, $prop)];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    if (! $ascending) {
</span></span></span><span class=line><span class=cl><span class=err>                        $values = array_reverse($values);
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                    if (($options &amp; SORT_FLAG_CASE) === SORT_FLAG_CASE) {
</span></span></span><span class=line><span class=cl><span class=err>                        if (($options &amp; SORT_NATURAL) === SORT_NATURAL) {
</span></span></span><span class=line><span class=cl><span class=err>                            $result = strnatcasecmp($values[0], $values[1]);
</span></span></span><span class=line><span class=cl><span class=err>                        } else {
</span></span></span><span class=line><span class=cl><span class=err>                            $result = strcasecmp($values[0], $values[1]);
</span></span></span><span class=line><span class=cl><span class=err>                        }
</span></span></span><span class=line><span class=cl><span class=err>                    } else {
</span></span></span><span class=line><span class=cl><span class=err>                        $result = match ($options) {
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_NUMERIC =&gt; intval($values[0]) &lt;=&gt; intval($values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_STRING =&gt; strcmp($values[0], $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_NATURAL =&gt; strnatcmp((string) $values[0], (string) $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            SORT_LOCALE_STRING =&gt; strcoll($values[0], $values[1]),
</span></span></span><span class=line><span class=cl><span class=err>                            default =&gt; $values[0] &lt;=&gt; $values[1],
</span></span></span><span class=line><span class=cl><span class=err>                        };
</span></span></span><span class=line><span class=cl><span class=err>                    }
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                if ($result === 0) {
</span></span></span><span class=line><span class=cl><span class=err>                    continue;
</span></span></span><span class=line><span class=cl><span class=err>                }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                return $result;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection in descending order using the given callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, (callable(TValue, TValue): mixed)|(callable(TValue, TKey): mixed)|string|array{string, string}&gt;|(callable(TValue, TKey): mixed)|string  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortByDesc($callback, $options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_array($callback) &amp;&amp; ! is_callable($callback)) {
</span></span></span><span class=line><span class=cl><span class=err>            foreach ($callback as $index =&gt; $key) {
</span></span></span><span class=line><span class=cl><span class=err>                $comparison = Arr::wrap($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $comparison[1] = &#39;desc&#39;;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>                $callback[$index] = $comparison;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;sortBy($callback, $options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $descending
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeys($options = SORT_REGULAR, $descending = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $descending ? krsort($items, $options) : ksort($items, $options);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys in descending order.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $options
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysDesc($options = SORT_REGULAR)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;sortKeys($options, true);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Sort the collection keys using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TKey, TKey): int  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function sortKeysUsing(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $items = $this-&gt;items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        uksort($items, $callback);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static($items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Splice a portion of the underlying collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $offset
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int|null  $length
</span></span></span><span class=line><span class=cl><span class=err>     * @param  array&lt;array-key, TValue&gt;  $replacement
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function splice($offset, $length = null, $replacement = [])
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (func_num_args() === 1) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(array_splice($this-&gt;items, $offset));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_splice($this-&gt;items, $offset, $length, $this-&gt;getArrayableItems($replacement)));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take the first or last {$limit} items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $limit
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function take($limit)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if ($limit &lt; 0) {
</span></span></span><span class=line><span class=cl><span class=err>            return $this-&gt;slice($limit, abs($limit));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;slice(0, $limit);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection until the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeUntil($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;takeUntil($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Take items in the collection while the given condition is met.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue|callable(TValue,TKey): bool  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function takeWhile($value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;takeWhile($value)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Transform each item in the collection using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  callable(TValue, TKey): TValue  $callback
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function transform(callable $callback)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $this-&gt;map($callback)-&gt;all();
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Flatten a multi-dimensional associative array with dots.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function dot()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::dot($this-&gt;all()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Convert a flatten &#34;dot&#34; notation array into an expanded array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function undot()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(Arr::undot($this-&gt;all()));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Return only unique items from the collection array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): mixed)|string|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  bool  $strict
</span></span></span><span class=line><span class=cl><span class=err>     * @return static
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function unique($key = null, $strict = false)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key) &amp;&amp; $strict === false) {
</span></span></span><span class=line><span class=cl><span class=err>            return new static(array_unique($this-&gt;items, SORT_REGULAR));
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $callback = $this-&gt;valueRetriever($key);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $exists = [];
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;reject(function ($item, $key) use ($callback, $strict, &amp;$exists) {
</span></span></span><span class=line><span class=cl><span class=err>            if (in_array($id = $callback($item, $key), $exists, $strict)) {
</span></span></span><span class=line><span class=cl><span class=err>                return true;
</span></span></span><span class=line><span class=cl><span class=err>            }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>            $exists[] = $id;
</span></span></span><span class=line><span class=cl><span class=err>        });
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Reset the keys on the underlying array.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function values()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_values($this-&gt;items));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Zip the collection together with one or more arrays.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * e.g. new Collection([1, 2, 3])-&gt;zip([4, 5, 6]);
</span></span></span><span class=line><span class=cl><span class=err>     *      =&gt; [[1, 4], [2, 5], [3, 6]]
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TZipValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  \Illuminate\Contracts\Support\Arrayable&lt;array-key, TZipValue&gt;|iterable&lt;array-key, TZipValue&gt;  ...$items
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, static&lt;int, TValue|TZipValue&gt;&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function zip($items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $arrayableItems = array_map(fn ($items) =&gt; $this-&gt;getArrayableItems($items), func_get_args());
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $params = array_merge([fn () =&gt; new static(func_get_args()), $this-&gt;items], $arrayableItems);
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_map(...$params));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Pad collection to the specified length with a value.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @template TPadValue
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  int  $size
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TPadValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;int, TValue|TPadValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function pad($size, $value)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static(array_pad($this-&gt;items, $size, $value));
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an iterator for the items.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \ArrayIterator&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getIterator(): \Traversable
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new ArrayIterator($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return int
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function count(): int
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return count($this-&gt;items);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Count the number of items in the collection by a field or using a callback.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  (callable(TValue, TKey): array-key)|string|null  $countBy
</span></span></span><span class=line><span class=cl><span class=err>     * @return static&lt;array-key, int&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function countBy($countBy = null)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new static($this-&gt;lazy()-&gt;countBy($countBy)-&gt;all());
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Add an item to the collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $item
</span></span></span><span class=line><span class=cl><span class=err>     * @return $this
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function add($item)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items[] = $item;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        return $this;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get a base Support collection instance from this collection.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @return \Illuminate\Support\Collection&lt;TKey, TValue&gt;
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function toBase()
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return new self($this);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Determine if an item exists at an offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return bool
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetExists($key): bool
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return isset($this-&gt;items[$key]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Get an item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return TValue
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetGet($key): mixed
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;items[$key];
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Set the item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey|null  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TValue  $value
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetSet($key, $value): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        if (is_null($key)) {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        } else {
</span></span></span><span class=line><span class=cl><span class=err>            $this-&gt;items[$key] = $value;
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * Unset the item at a given offset.
</span></span></span><span class=line><span class=cl><span class=err>     *
</span></span></span><span class=line><span class=cl><span class=err>     * @param  TKey  $key
</span></span></span><span class=line><span class=cl><span class=err>     * @return void
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function offsetUnset($key): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        unset($this-&gt;items[$key]);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>?&gt;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>&lt;?php
</span></span></span><span class=line><span class=cl><span class=err>class Product {
</span></span></span><span class=line><span class=cl><span class=err>    private string $title;
</span></span></span><span class=line><span class=cl><span class=err>    private string $description;
</span></span></span><span class=line><span class=cl><span class=err>    private int $price;
</span></span></span><span class=line><span class=cl><span class=err>    private string $currency;
</span></span></span><span class=line><span class=cl><span class=err>    private string $category;
</span></span></span><span class=line><span class=cl><span class=err>    private string $brand;
</span></span></span><span class=line><span class=cl><span class=err>    private Collection $options;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $currency
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $category
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $brand
</span></span></span><span class=line><span class=cl><span class=err>     * @param Collection $options
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __construct(string $title, string $description, int $price, string $currency, string $category, string $brand, Collection $options)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;currency = $currency;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;category = $category;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;brand = $brand;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;options = $options;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getTitle(): string
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;title;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setTitle(string $title): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getDescription(): string
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;description;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setDescription(string $description): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return int
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getPrice(): int
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;price;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setPrice(int $price): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCurrency(): string
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;currency;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $currency
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setCurrency(string $currency): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;currency = $currency;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getCategory(): string
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;category;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $category
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setCategory(string $category): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;category = $category;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return string
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getBrand(): string
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;brand;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $brand
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setBrand(string $brand): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;brand = $brand;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @return Collection
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function getOptions(): array
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        return $this-&gt;options;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param Collection $options
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setOptions(Collection $options): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;options = $options;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>class Option {
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    private string $title;
</span></span></span><span class=line><span class=cl><span class=err>    private string $description;
</span></span></span><span class=line><span class=cl><span class=err>    private int $price;
</span></span></span><span class=line><span class=cl><span class=err>    private Collection $items;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     * @param Collection $items
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __construct(string $title, string $description, int $price, Collection $items)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $items;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setTitle(string $title): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setDescription(string $description): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setPrice(int $price): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param Collection $items
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setItems(Collection $items): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;items = $items;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>class OptionItem {
</span></span></span><span class=line><span class=cl><span class=err>    private string $title;
</span></span></span><span class=line><span class=cl><span class=err>    private string $description;
</span></span></span><span class=line><span class=cl><span class=err>    private int $price;
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function __construct(string $title, string $description, int $price)
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $title
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setTitle(string $title): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;title = $title;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param string $description
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setDescription(string $description): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;description = $description;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>    /**
</span></span></span><span class=line><span class=cl><span class=err>     * @param int $price
</span></span></span><span class=line><span class=cl><span class=err>     */
</span></span></span><span class=line><span class=cl><span class=err>    public function setPrice(int $price): void
</span></span></span><span class=line><span class=cl><span class=err>    {
</span></span></span><span class=line><span class=cl><span class=err>        $this-&gt;price = $price;
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>$products = new Collection();
</span></span></span><span class=line><span class=cl><span class=err>$start = microtime(true);
</span></span></span><span class=line><span class=cl><span class=err>for ($k = 0; $k &lt;= 1000; $k++) {
</span></span></span><span class=line><span class=cl><span class=err>    $options = new Collection();
</span></span></span><span class=line><span class=cl><span class=err>    for ($j = 0; $j &lt;= 10; $j++) {
</span></span></span><span class=line><span class=cl><span class=err>        $optionItems = new Collection();
</span></span></span><span class=line><span class=cl><span class=err>        for ($i = 0; $i &lt;= 100; $i++) {
</span></span></span><span class=line><span class=cl><span class=err>            $optionItem = new Collection(new OptionItem(title: &#39;OptionItem&#39; . $i, description: &#39;OptionItem &#39; . $i . &#39; Description&#39;, price: random_int(1000, 10000)));
</span></span></span><span class=line><span class=cl><span class=err>            $optionItems-&gt;add($optionItem);
</span></span></span><span class=line><span class=cl><span class=err>        }
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>        $option = new Collection(new Option(title: &#39;Option&#39; . $j, description: &#39;Option &#39; . $j . &#39; Description&#39;, price: random_int(1000, 10000), items: $optionItems));
</span></span></span><span class=line><span class=cl><span class=err>        $options-&gt;add($option);
</span></span></span><span class=line><span class=cl><span class=err>    }
</span></span></span><span class=line><span class=cl><span class=err>    $products-&gt;add(new Collection(new Product(title: &#39;Product&#39; . $k, description: &#39;Product &#39; . $k . &#39; Description&#39;, price: random_int(1000, 10000), currency: &#39;USD&#39;, category: &#39;Category&#39; . $k, brand: &#39;Brand&#39; . $k, options: $options)));
</span></span></span><span class=line><span class=cl><span class=err>}
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>$end = microtime(true);
</span></span></span><span class=line><span class=cl><span class=err>echo &#39;Memory Peak Usage: &#39; . (memory_get_peak_usage(true) / 1024 / 1024) . &#39; MB&#39; . &#39;&lt;br&gt;&#39;;
</span></span></span><span class=line><span class=cl><span class=err>echo &#39;Execution Time: &#39; . round($end - $start, 2) . &#39; seconds&#39; . &#39;&lt;br&gt;&#39;;
</span></span></span></code></pre></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2024-12-15</span></div><div class=post-info-license></div></div><div class="post-info-line print:!tw-hidden"><div class=post-info-md></div><div class=post-info-share></div></div></div><div class=post-info-more><section class=post-tags></section><section class=print:!tw-hidden><span><button class="tw-text-fgColor-link-muted hover:tw-text-fgColor-link-muted-hover" onclick=window.history.back()>Back</button></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class="post-nav print:tw-hidden"><a href=/2022/08/11/vscode-git-private-key-%EC%98%A4%EB%A5%98/ class=prev rel=prev title="VSCode Git Private Key 오류"><svg class="icon" viewBox="0 0 256 512"><path d="M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9.0l22.6 22.6c9.4 9.4 9.4 24.6.0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6.0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9.0l-136-136c-9.5-9.4-9.5-24.6-.1-34z"/></svg>VSCode Git Private Key 오류</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.139.4">Hugo</a>&nbsp;|&nbsp;Theme - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.4.0"><svg class="icon" viewBox="0 0 576 512"><path d="M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1.0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7.0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174 402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7-43.2-43.2c-4.1-4.1-10.8-4.1-14.8.0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"/></svg> DoIt</a></div><div class=footer-line><svg class="icon" viewBox="0 0 512 512"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 448c-110.532.0-2e2-89.451-2e2-2e2.0-110.531 89.451-2e2 2e2-2e2 110.532.0 2e2 89.451 2e2 2e2.0 110.532-89.451 2e2-2e2 2e2zm107.351-101.064c-9.614 9.712-45.53 41.396-104.065 41.396-82.43.0-140.484-61.425-140.484-141.567.0-79.152 60.275-139.401 139.762-139.401 55.531.0 88.738 26.62 97.593 34.779a11.965 11.965.0 011.936 15.322l-18.155 28.113c-3.841 5.95-11.966 7.282-17.499 2.921-8.595-6.776-31.814-22.538-61.708-22.538-48.303.0-77.916 35.33-77.916 80.082.0 41.589 26.888 83.692 78.277 83.692 32.657.0 56.843-19.039 65.726-27.225 5.27-4.857 13.596-4.039 17.82 1.738l19.865 27.17a11.947 11.947.0 01-1.152 15.518z"/></svg>2024<span class=author>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">hodory</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons class=print:!tw-hidden><a href=#back-to-top id=back-to-top-button class="fixed-button tw-transition-opacity tw-opacity-0" title="Back to Top"><svg class="icon" viewBox="0 0 448 512"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6.0-33.9L207 39c9.4-9.4 24.6-9.4 33.9.0l194.3 194.3c9.4 9.4 9.4 24.6.0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3.0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a></div><script>window.config={comment:{}}</script><script src=/js/theme.min.js defer></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","360040228",{anonymize_ip:!0})</script><script src="https://www.googletagmanager.com/gtag/js?id=360040228" async></script><script type=speculationrules>
        {
          "prerender": [
            {
              "where": { "href_matches": "/*" },
              "eagerness": "moderate"
            }
          ]
        }
    </script></body></html>