import{r as l,R as h,j as L,a as Q,F as Xe,l as Je,u as Qe,s as Ye,p as Ze,i as et}from"./index-96a2f512.js";function tt(e,t){const[n,r]=l.useState(e);return l.useEffect(()=>{const o=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(o)}},[e,t]),n}function nt(e,t){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const rt=l.forwardRef(nt),Te=rt;let q=typeof window<"u"?l.useLayoutEffect:l.useEffect;function B(e){let t=l.useRef(e);return q(()=>{t.current=e},[e]),t}function ee(){let e=[],t=[],n={enqueue(r){t.push(r)},addEventListener(r,o,u,f){return r.addEventListener(o,u,f),n.add(()=>r.removeEventListener(o,u,f))},requestAnimationFrame(...r){let o=requestAnimationFrame(...r);return n.add(()=>cancelAnimationFrame(o))},nextFrame(...r){return n.requestAnimationFrame(()=>n.requestAnimationFrame(...r))},setTimeout(...r){let o=setTimeout(...r);return n.add(()=>clearTimeout(o))},add(r){return e.push(r),()=>{let o=e.indexOf(r);if(o>=0){let[u]=e.splice(o,1);u()}}},dispose(){for(let r of e.splice(0))r()},async workQueue(){for(let r of t.splice(0))await r()}};return n}function ot(){let[e]=l.useState(ee);return l.useEffect(()=>()=>e.dispose(),[e]),e}let x=function(e){let t=B(e);return h.useCallback((...n)=>t.current(...n),[t])},ae={serverHandoffComplete:!1};function he(){let[e,t]=l.useState(ae.serverHandoffComplete);return l.useEffect(()=>{e!==!0&&t(!0)},[e]),l.useEffect(()=>{ae.serverHandoffComplete===!1&&(ae.serverHandoffComplete=!0)},[]),e}var Fe;let lt=0;function Le(){return++lt}let G=(Fe=h.useId)!=null?Fe:function(){let e=he(),[t,n]=h.useState(e?Le:null);return q(()=>{t===null&&n(Le())},[t]),t!=null?""+t:void 0};function T(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,T),r}function ge(e){return typeof window>"u"?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let de=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var W=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(W||{}),at=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(at||{}),it=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(it||{});function Re(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(de))}var be=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(be||{});function ke(e,t=0){var n;return e===((n=ge(e))==null?void 0:n.body)?!1:T(t,{0(){return e.matches(de)},1(){let r=e;for(;r!==null;){if(r.matches(de))return!0;r=r.parentElement}return!1}})}let ut=["textarea","input"].join(",");function st(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ut))!=null?n:!1}function ct(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),u=t(r);if(o===null||u===null)return 0;let f=o.compareDocumentPosition(u);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function X(e,t,n=!0){let r=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?ct(e):e:Re(e),u=r.activeElement,f=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(u))-1;if(t&4)return Math.max(0,o.indexOf(u))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=t&32?{preventScroll:!0}:{},i=0,a=o.length,v;do{if(i>=a||i+a<=0)return 0;let g=d+i;if(t&16)g=(g+a)%a;else{if(g<0)return 3;if(g>=a)return 1}v=o[g],v==null||v.focus(s),i+=f}while(v!==r.activeElement);return t&6&&st(v)&&v.select(),v.hasAttribute("tabindex")||v.setAttribute("tabindex","0"),2}function fe(e,t,n){let r=B(t);l.useEffect(()=>{function o(u){r.current(u)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function dt(e,t,n=!0){let r=l.useRef(!1);l.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(u,f){if(!r.current||u.defaultPrevented)return;let d=function i(a){return typeof a=="function"?i(a()):Array.isArray(a)||a instanceof Set?a:[a]}(e),s=f(u);if(s!==null&&s.ownerDocument.documentElement.contains(s)){for(let i of d){if(i===null)continue;let a=i instanceof HTMLElement?i:i.current;if(a!=null&&a.contains(s))return}return!ke(s,be.Loose)&&s.tabIndex!==-1&&u.preventDefault(),t(u,s)}}fe("click",u=>o(u,f=>f.target),!0),fe("blur",u=>o(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ne(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function ft(e,t){let[n,r]=l.useState(()=>Ne(e));return q(()=>{r(Ne(e))},[e.type,e.as]),q(()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let De=Symbol();function pt(e,t=!0){return Object.assign(e,{[De]:t})}function j(...e){let t=l.useRef(e);l.useEffect(()=>{t.current=e},[e]);let n=x(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[De]))?void 0:n}var J=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(J||{}),D=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(D||{});function U({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:u=!0,name:f}){let d=Ie(t,e);if(u)return Y(d,n,r,f);let s=o??0;if(s&2){let{static:i=!1,...a}=d;if(i)return Y(a,n,r,f)}if(s&1){let{unmount:i=!0,...a}=d;return T(i?0:1,{0(){return null},1(){return Y({...a,hidden:!0,style:{display:"none"}},n,r,f)}})}return Y(d,n,r,f)}function Y(e,t={},n,r){let{as:o=n,children:u,refName:f="ref",...d}=ie(e,["unmount","static"]),s=e.ref!==void 0?{[f]:e.ref}:{},i=typeof u=="function"?u(t):u;d.className&&typeof d.className=="function"&&(d.className=d.className(t));let a={};if(o===l.Fragment&&Object.keys(Oe(d)).length>0){if(!l.isValidElement(i)||Array.isArray(i)&&i.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(d).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));return l.cloneElement(i,Object.assign({},Ie(i.props,Oe(ie(d,["ref"]))),a,s))}return l.createElement(o,Object.assign({},ie(d,["ref"]),o!==l.Fragment&&s,o!==l.Fragment&&a),i)}function Ie(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...u){let f=n[r];for(let d of f){if(o.defaultPrevented)return;d(o,...u)}}});return t}function A(e){var t;return Object.assign(l.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Oe(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ie(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Ae(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&vt(n)?!1:r}function vt(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let mt="div";var Z=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Z||{});let pe=A(function(e,t){let{features:n=1,...r}=e,o={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return U({ourProps:o,theirProps:r,slot:{},defaultTag:mt,name:"Hidden"})}),Ee=l.createContext(null);Ee.displayName="OpenClosedContext";var I=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(I||{});function te(){return l.useContext(Ee)}function He({value:e,children:t}){return h.createElement(Ee.Provider,{value:e},t)}var H=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(H||{}),z=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(z||{});function Be(){let e=l.useRef(0);return fe("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function je(){let e=l.useRef(!1);return q(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ye(...e){return l.useMemo(()=>ge(...e),[...e])}function ht(e,t,n,r){let o=B(n);l.useEffect(()=>{e=e??window;function u(f){o.current(f)}return e.addEventListener(t,u,r),()=>e.removeEventListener(t,u,r)},[e,t,r])}function gt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}var bt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(bt||{}),Et=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Et||{});let yt={0:e=>({...e,popoverState:T(e.popoverState,{0:1,1:0})}),1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},we=l.createContext(null);we.displayName="PopoverContext";function ne(e){let t=l.useContext(we);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ne),n}return t}let Se=l.createContext(null);Se.displayName="PopoverAPIContext";function Pe(e){let t=l.useContext(Se);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pe),n}return t}let xe=l.createContext(null);xe.displayName="PopoverGroupContext";function Ue(){return l.useContext(xe)}let Ce=l.createContext(null);Ce.displayName="PopoverPanelContext";function wt(){return l.useContext(Ce)}function St(e,t){return T(t.type,yt,e,t)}let Pt="div",xt=A(function(e,t){var n;let r=`headlessui-popover-button-${G()}`,o=`headlessui-popover-panel-${G()}`,u=l.useRef(null),f=j(t,pt(c=>{u.current=c})),d=l.useReducer(St,{popoverState:1,button:null,buttonId:r,panel:null,panelId:o,beforePanelSentinel:l.createRef(),afterPanelSentinel:l.createRef()}),[{popoverState:s,button:i,panel:a,beforePanelSentinel:v,afterPanelSentinel:g},b]=d,p=ye((n=u.current)!=null?n:i);l.useEffect(()=>b({type:3,buttonId:r}),[r,b]),l.useEffect(()=>b({type:5,panelId:o}),[o,b]);let m=l.useMemo(()=>{if(!i||!a)return!1;for(let c of document.querySelectorAll("body > *"))if(Number(c==null?void 0:c.contains(i))^Number(c==null?void 0:c.contains(a)))return!0;return!1},[i,a]),E=l.useMemo(()=>({buttonId:r,panelId:o,close:()=>b({type:1})}),[r,o,b]),P=Ue(),S=P==null?void 0:P.registerPopover,N=x(()=>{var c;return(c=P==null?void 0:P.isFocusWithinPopoverGroup())!=null?c:(p==null?void 0:p.activeElement)&&((i==null?void 0:i.contains(p.activeElement))||(a==null?void 0:a.contains(p.activeElement)))});l.useEffect(()=>S==null?void 0:S(E),[S,E]),ht(p==null?void 0:p.defaultView,"focus",c=>{var y,$,M,k;s===0&&(N()||!i||!a||($=(y=v.current)==null?void 0:y.contains)!=null&&$.call(y,c.target)||(k=(M=g.current)==null?void 0:M.contains)!=null&&k.call(M,c.target)||b({type:1}))},!0),dt([i,a],(c,y)=>{b({type:1}),ke(y,be.Loose)||(c.preventDefault(),i==null||i.focus())},s===0);let R=x(c=>{b({type:1});let y=(()=>c?c instanceof HTMLElement?c:c.current instanceof HTMLElement?c.current:i:i)();y==null||y.focus()}),w=l.useMemo(()=>({close:R,isPortalled:m}),[R,m]),F=l.useMemo(()=>({open:s===0,close:R}),[s,R]),C=e,O={ref:f};return h.createElement(we.Provider,{value:d},h.createElement(Se.Provider,{value:w},h.createElement(He,{value:T(s,{0:I.Open,1:I.Closed})},U({ourProps:O,theirProps:C,slot:F,defaultTag:Pt,name:"Popover"}))))}),Ct="button",$t=A(function(e,t){let[n,r]=ne("Popover.Button"),{isPortalled:o}=Pe("Popover.Button"),u=l.useRef(null),f=`headlessui-focus-sentinel-${G()}`,d=Ue(),s=d==null?void 0:d.closeOthers,i=wt(),a=i===null?!1:i===n.panelId,v=j(u,t,a?null:c=>r({type:2,button:c})),g=j(u,t),b=ye(u),p=x(c=>{var y,$,M;if(a){if(n.popoverState===1)return;switch(c.key){case H.Space:case H.Enter:c.preventDefault(),($=(y=c.target).click)==null||$.call(y),r({type:1}),(M=n.button)==null||M.focus();break}}else switch(c.key){case H.Space:case H.Enter:c.preventDefault(),c.stopPropagation(),n.popoverState===1&&(s==null||s(n.buttonId)),r({type:0});break;case H.Escape:if(n.popoverState!==0)return s==null?void 0:s(n.buttonId);if(!u.current||b!=null&&b.activeElement&&!u.current.contains(b.activeElement))return;c.preventDefault(),c.stopPropagation(),r({type:1});break}}),m=x(c=>{a||c.key===H.Space&&c.preventDefault()}),E=x(c=>{var y,$;Ae(c.currentTarget)||e.disabled||(a?(r({type:1}),(y=n.button)==null||y.focus()):(c.preventDefault(),c.stopPropagation(),n.popoverState===1&&(s==null||s(n.buttonId)),r({type:0}),($=n.button)==null||$.focus()))}),P=x(c=>{c.preventDefault(),c.stopPropagation()}),S=n.popoverState===0,N=l.useMemo(()=>({open:S}),[S]),R=ft(e,u),w=e,F=a?{ref:g,type:R,onKeyDown:p,onClick:E}:{ref:v,id:n.buttonId,type:R,"aria-expanded":e.disabled?void 0:n.popoverState===0,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:p,onKeyUp:m,onClick:E,onMouseDown:P},C=Be(),O=x(()=>{let c=n.panel;if(!c)return;function y(){T(C.current,{[z.Forwards]:()=>X(c,W.First),[z.Backwards]:()=>X(c,W.Last)})}y()});return h.createElement(h.Fragment,null,U({ourProps:F,theirProps:w,slot:N,defaultTag:Ct,name:"Popover.Button"}),S&&!a&&o&&h.createElement(pe,{id:f,features:Z.Focusable,as:"button",type:"button",onFocus:O}))}),Tt="div",Ft=J.RenderStrategy|J.Static,Lt=A(function(e,t){let[{popoverState:n},r]=ne("Popover.Overlay"),o=j(t),u=`headlessui-popover-overlay-${G()}`,f=te(),d=(()=>f!==null?f===I.Open:n===0)(),s=x(a=>{if(Ae(a.currentTarget))return a.preventDefault();r({type:1})}),i=l.useMemo(()=>({open:n===0}),[n]);return U({ourProps:{ref:o,id:u,"aria-hidden":!0,onClick:s},theirProps:e,slot:i,defaultTag:Tt,features:Ft,visible:d,name:"Popover.Overlay"})}),Nt="div",Ot=J.RenderStrategy|J.Static,Mt=A(function(e,t){let{focus:n=!1,...r}=e,[o,u]=ne("Popover.Panel"),{close:f,isPortalled:d}=Pe("Popover.Panel"),s=`headlessui-focus-sentinel-before-${G()}`,i=`headlessui-focus-sentinel-after-${G()}`,a=l.useRef(null),v=j(a,t,w=>{u({type:4,panel:w})}),g=ye(a),b=te(),p=(()=>b!==null?b===I.Open:o.popoverState===0)(),m=x(w=>{var F;switch(w.key){case H.Escape:if(o.popoverState!==0||!a.current||g!=null&&g.activeElement&&!a.current.contains(g.activeElement))return;w.preventDefault(),w.stopPropagation(),u({type:1}),(F=o.button)==null||F.focus();break}});l.useEffect(()=>{var w;e.static||o.popoverState===1&&((w=e.unmount)==null||w)&&u({type:4,panel:null})},[o.popoverState,e.unmount,e.static,u]),l.useEffect(()=>{if(!n||o.popoverState!==0||!a.current)return;let w=g==null?void 0:g.activeElement;a.current.contains(w)||X(a.current,W.First)},[n,a,o.popoverState]);let E=l.useMemo(()=>({open:o.popoverState===0,close:f}),[o,f]),P={ref:v,id:o.panelId,onKeyDown:m,onBlur:n&&o.popoverState===0?w=>{var F,C,O,c,y;let $=w.relatedTarget;!$||!a.current||(F=a.current)!=null&&F.contains($)||(u({type:1}),((O=(C=o.beforePanelSentinel.current)==null?void 0:C.contains)!=null&&O.call(C,$)||(y=(c=o.afterPanelSentinel.current)==null?void 0:c.contains)!=null&&y.call(c,$))&&$.focus({preventScroll:!0}))}:void 0,tabIndex:-1},S=Be(),N=x(()=>{let w=a.current;if(!w)return;function F(){T(S.current,{[z.Forwards]:()=>{X(w,W.First)},[z.Backwards]:()=>{var C;(C=o.button)==null||C.focus({preventScroll:!0})}})}F()}),R=x(()=>{let w=a.current;if(!w)return;function F(){T(S.current,{[z.Forwards]:()=>{var C,O,c;if(!o.button)return;let y=Re(),$=y.indexOf(o.button),M=y.slice(0,$+1),k=[...y.slice($+1),...M];for(let _ of k.slice())if((O=(C=_==null?void 0:_.id)==null?void 0:C.startsWith)!=null&&O.call(C,"headlessui-focus-sentinel-")||(c=o.panel)!=null&&c.contains(_)){let K=k.indexOf(_);K!==-1&&k.splice(K,1)}X(k,W.First,!1)},[z.Backwards]:()=>X(w,W.Last)})}F()});return h.createElement(Ce.Provider,{value:o.panelId},p&&d&&h.createElement(pe,{id:s,ref:o.beforePanelSentinel,features:Z.Focusable,as:"button",type:"button",onFocus:N}),U({ourProps:P,theirProps:r,slot:E,defaultTag:Nt,features:Ot,visible:p,name:"Popover.Panel"}),p&&d&&h.createElement(pe,{id:i,ref:o.afterPanelSentinel,features:Z.Focusable,as:"button",type:"button",onFocus:R}))}),Rt="div",kt=A(function(e,t){let n=l.useRef(null),r=j(n,t),[o,u]=l.useState([]),f=x(p=>{u(m=>{let E=m.indexOf(p);if(E!==-1){let P=m.slice();return P.splice(E,1),P}return m})}),d=x(p=>(u(m=>[...m,p]),()=>f(p))),s=x(()=>{var p;let m=ge(n);if(!m)return!1;let E=m.activeElement;return(p=n.current)!=null&&p.contains(E)?!0:o.some(P=>{var S,N;return((S=m.getElementById(P.buttonId))==null?void 0:S.contains(E))||((N=m.getElementById(P.panelId))==null?void 0:N.contains(E))})}),i=x(p=>{for(let m of o)m.buttonId!==p&&m.close()}),a=l.useMemo(()=>({registerPopover:d,unregisterPopover:f,isFocusWithinPopoverGroup:s,closeOthers:i}),[d,f,s,i]),v=l.useMemo(()=>({}),[]),g=e,b={ref:r};return h.createElement(xe.Provider,{value:a},U({ourProps:b,theirProps:g,slot:v,defaultTag:Rt,name:"Popover.Group"}))}),ue=Object.assign(xt,{Button:$t,Overlay:Lt,Panel:Mt,Group:kt});function Dt(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function se(e,...t){e&&t.length>0&&e.classList.add(...t)}function ce(e,...t){e&&t.length>0&&e.classList.remove(...t)}var ve=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(ve||{});function It(e,t){let n=ee();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[u,f]=[r,o].map(d=>{let[s=0]=d.split(",").filter(Boolean).map(i=>i.includes("ms")?parseFloat(i):parseFloat(i)*1e3).sort((i,a)=>a-i);return s});if(u+f!==0){let d=[];d.push(n.addEventListener(e,"transitionrun",s=>{s.target===s.currentTarget&&(d.splice(0).forEach(i=>i()),d.push(n.addEventListener(e,"transitionend",i=>{i.target===i.currentTarget&&(t("ended"),d.splice(0).forEach(a=>a()))}),n.addEventListener(e,"transitioncancel",i=>{i.target===i.currentTarget&&(t("cancelled"),d.splice(0).forEach(a=>a()))})))}))}else t("ended");return n.add(()=>t("cancelled")),n.dispose}function At(e,t,n,r){let o=n?"enter":"leave",u=ee(),f=r!==void 0?Dt(r):()=>{},d=T(o,{enter:()=>t.enter,leave:()=>t.leave}),s=T(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),i=T(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return ce(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),se(e,...d,...i),u.nextFrame(()=>{ce(e,...i),se(e,...s),It(e,a=>(a==="ended"&&(ce(e,...d),se(e,...t.entered)),f(a)))}),u.dispose}function Ht({container:e,direction:t,classes:n,events:r,onStart:o,onStop:u}){let f=je(),d=ot(),s=B(t),i=x(()=>T(s.current,{enter:()=>r.current.beforeEnter(),leave:()=>r.current.beforeLeave(),idle:()=>{}})),a=x(()=>T(s.current,{enter:()=>r.current.afterEnter(),leave:()=>r.current.afterLeave(),idle:()=>{}}));q(()=>{let v=ee();d.add(v.dispose);let g=e.current;if(g&&s.current!=="idle"&&f.current)return v.dispose(),i(),o.current(s.current),v.add(At(g,n.current,s.current==="enter",b=>{v.dispose(),T(b,{[ve.Ended](){a(),u.current(s.current)},[ve.Cancelled]:()=>{}})})),v.dispose},[t])}function V(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let re=l.createContext(null);re.displayName="TransitionContext";var Bt=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Bt||{});function jt(){let e=l.useContext(re);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Ut(){let e=l.useContext(oe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let oe=l.createContext(null);oe.displayName="NestingContext";function le(e){return"children"in e?le(e.children):e.current.filter(({state:t})=>t==="visible").length>0}function Ve(e){let t=B(e),n=l.useRef([]),r=je(),o=x((f,d=D.Hidden)=>{let s=n.current.findIndex(({id:i})=>i===f);s!==-1&&(T(d,{[D.Unmount](){n.current.splice(s,1)},[D.Hidden](){n.current[s].state="hidden"}}),gt(()=>{var i;!le(n)&&r.current&&((i=t.current)==null||i.call(t))}))}),u=x(f=>{let d=n.current.find(({id:s})=>s===f);return d?d.state!=="visible"&&(d.state="visible"):n.current.push({id:f,state:"visible"}),()=>o(f,D.Unmount)});return l.useMemo(()=>({children:n,register:u,unregister:o}),[u,o,n])}function Vt(){}let Wt=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Me(e){var t;let n={};for(let r of Wt)n[r]=(t=e[r])!=null?t:Vt;return n}function zt(e){let t=l.useRef(Me(e));return l.useEffect(()=>{t.current=Me(e)},[e]),t}let qt="div",We=J.RenderStrategy,ze=A(function(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:u,enter:f,enterFrom:d,enterTo:s,entered:i,leave:a,leaveFrom:v,leaveTo:g,...b}=e,p=l.useRef(null),m=j(p,t),[E,P]=l.useState("visible"),S=b.unmount?D.Unmount:D.Hidden,{show:N,appear:R,initial:w}=jt(),{register:F,unregister:C}=Ut(),O=l.useRef(null),c=G();l.useEffect(()=>{if(c)return F(c)},[F,c]),l.useEffect(()=>{if(S===D.Hidden&&c){if(N&&E!=="visible"){P("visible");return}T(E,{hidden:()=>C(c),visible:()=>F(c)})}},[E,c,F,C,N,S]);let y=B({enter:V(f),enterFrom:V(d),enterTo:V(s),entered:V(i),leave:V(a),leaveFrom:V(v),leaveTo:V(g)}),$=zt({beforeEnter:n,afterEnter:r,beforeLeave:o,afterLeave:u}),M=he();l.useEffect(()=>{if(M&&E==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,E,M]);let k=w&&!R,_=(()=>!M||k||O.current===N?"idle":N?"enter":"leave")(),K=l.useRef(!1),$e=Ve(()=>{K.current||(P("hidden"),C(c))});Ht({container:p,classes:y,events:$,direction:_,onStart:B(()=>{K.current=!0}),onStop:B(Ke=>{K.current=!1,Ke==="leave"&&!le($e)&&(P("hidden"),C(c))})}),l.useEffect(()=>{!k||(S===D.Hidden?O.current=null:O.current=N)},[N,k,E]);let Ge=b,_e={ref:m};return h.createElement(oe.Provider,{value:$e},h.createElement(He,{value:T(E,{visible:I.Open,hidden:I.Closed})},U({ourProps:_e,theirProps:Ge,defaultTag:qt,features:We,visible:E==="visible",name:"Transition.Child"})))}),me=A(function(e,t){let{show:n,appear:r=!1,unmount:o,...u}=e,f=l.useRef(null),d=j(f,t);he();let s=te();if(n===void 0&&s!==null&&(n=T(s,{[I.Open]:!0,[I.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[i,a]=l.useState(n?"visible":"hidden"),v=Ve(()=>{a("hidden")}),[g,b]=l.useState(!0),p=l.useRef([n]);q(()=>{g!==!1&&p.current[p.current.length-1]!==n&&(p.current.push(n),b(!1))},[p,n]);let m=l.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);l.useEffect(()=>{if(n)a("visible");else if(!le(v))a("hidden");else{let P=f.current;if(!P)return;let S=P.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&a("hidden")}},[n,v]);let E={unmount:o};return h.createElement(oe.Provider,{value:v},h.createElement(re.Provider,{value:m},U({ourProps:{...E,as:l.Fragment,children:h.createElement(ze,{ref:d,...E,...u})},theirProps:{},defaultTag:l.Fragment,features:We,visible:i==="visible",name:"Transition"})))}),Gt=A(function(e,t){let n=l.useContext(re)!==null,r=te()!==null;return h.createElement(h.Fragment,null,!n&&r?h.createElement(me,{ref:t,...e}):h.createElement(ze,{ref:t,...e}))}),_t=Object.assign(me,{Child:Gt,Root:me});const qe=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),Kt=e=>{if(!e)return"";const t=qe(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null};function Xt({error:e}){const t=Kt(e);return L(ue,{className:"relative",children:()=>Q(Xe,{children:[Q(ue.Button,{className:`p-2 shaodw-lg border ${e?"":" opacity-0 hidden "}`,children:[L("span",{className:"sr-only",children:"Errors"}),L(Te,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})]}),L(_t,{as:l.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:L(ue.Panel,{className:"absolute top-8 w-[300px] -right-3 z-10 mt-3 px-4 sm:px-0",children:L("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:L("div",{className:"rounded-md bg-red-50 p-4 overflow-scroll",children:Q("div",{className:"flex",children:[L("div",{className:"flex-shrink-0",children:L(Te,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),L("div",{className:"ml-3",children:L("h3",{className:"text-sm font-medium text-red-800 whitespace-pre-wrap",children:t})})]})})})})})]})})}const Jt=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16));Je.config({paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.31.1/min/vs"}});const Qt=e=>{const t=Qe(),n=h.useRef(null),[r,o]=h.useState(100),u=h.useMemo(()=>Jt(),[]),f=e.field,d=h.useMemo(()=>{const p=Ye(e.input.value,f,m=>m);return typeof e.input.value=="string"?e.input.value:p},[]),[s,i]=h.useState(d),[a,v]=h.useState(null),g=tt(s,500);h.useEffect(()=>{const p=Ze(s,f,m=>m);if(p.children[0]&&p.children[0].type==="invalid_markdown"){const m=p.children[0];v(m)}else v(null);e.input.onChange(p)},[JSON.stringify(g)]),h.useEffect(()=>{if(n.current)if(a){const p=qe(a);t.editor.setModelMarkers(n.current.getModel(),u,[{...p.position,message:p.message,severity:8}])}else t.editor.setModelMarkers(n.current.getModel(),u,[])},[JSON.stringify(a),n.current]),h.useEffect(()=>{t&&(t.languages.typescript.typescriptDefaults.setEagerModelSync(!0),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[t]);function b(p,m){n.current=p,p.onDidContentSizeChange(()=>{o(Math.min(Math.max(100,p.getContentHeight()),1e3)),p.layout()})}return Q("div",{className:"relative",children:[Q("div",{className:"sticky top-1 w-full flex justify-between mb-2 z-50 max-w-full",children:[L(Yt,{onClick:()=>e.setRawMode(!1),children:"View in rich-text editor"}),L(Xt,{error:a})]}),L("div",{style:{height:`${r}px`},children:L(et,{path:u,onMount:b,options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"on",lineNumbersMinChars:2,formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:4,alwaysConsumeMouseWheel:!1}},language:"markdown",value:s,onChange:p=>{try{i(p)}catch(m){console.log("error",m)}}})})]})},Yt=e=>L("button",{className:`${e.align==="left"?"rounded-l-md border-r-0":"rounded-r-md border-l-0"} shadow rounded-md bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-blue-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,type:"button",onClick:e.onClick,children:L("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1",children:e.children})}),en=Qt;export{en as default};
